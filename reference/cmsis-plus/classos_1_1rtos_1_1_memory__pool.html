<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>CMSIS++ Reference: os::rtos::Memory_pool Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-16767008-14', 'auto');
  ga('send', 'pageview');
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="$relpath/../../../.."><img alt="Logo" src="logo.png"/></a></td>
  <td id="projectalign">
   <div>
     <div id="projectname">CMSIS++ Reference
     &#160;<span id="projectnumber">0.1.1</span>
     </div>
     <div id="projectmotto" class="float:right;">“Perfekt ist nicht gut genug”</div>
     </div>  
   </div>
   <div id="projectbrief">CMSIS++: A proposal for the next generation CMSIS, written in C++.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classos_1_1rtos_1_1_memory__pool.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="classos_1_1rtos_1_1_memory__pool-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">os::rtos::Memory_pool Class Reference<div class="ingroups"><a class="el" href="group__cmsis-plus-rtos.html">CMSIS++ RTOS API</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Synchronised <b>memory pool</b>.  
 <a href="classos_1_1rtos_1_1_memory__pool.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="os_8h_source.html">cmsis-plus/rtos/os.h</a>&gt;</code></p>

<p>Inherits <a class="el" href="classos_1_1rtos_1_1_named__object.html">os::rtos::Named_object</a>.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Constructors &amp; Destructor</div></td></tr>
<tr class="memitem:adda40166e1164eef680e42d4847d3e9f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_memory__pool.html#adda40166e1164eef680e42d4847d3e9f">Memory_pool</a> (<a class="el" href="namespaceos_1_1rtos_1_1mempool.html#a1638d8f5599ef06c8626ac9b8bd819ce">mempool::size_t</a> blocks, <a class="el" href="namespaceos_1_1rtos_1_1mempool.html#a1638d8f5599ef06c8626ac9b8bd819ce">mempool::size_t</a> block_size_bytes)</td></tr>
<tr class="memdesc:adda40166e1164eef680e42d4847d3e9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a memory pool with default settings.  <a href="#adda40166e1164eef680e42d4847d3e9f">More...</a><br /></td></tr>
<tr class="separator:adda40166e1164eef680e42d4847d3e9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e93a08a4b8914c08dec51d3d4bfd65f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_memory__pool.html#a0e93a08a4b8914c08dec51d3d4bfd65f">Memory_pool</a> (const <a class="el" href="classos_1_1rtos_1_1mempool_1_1_attributes.html">mempool::Attributes</a> &amp;attr, <a class="el" href="namespaceos_1_1rtos_1_1mempool.html#a1638d8f5599ef06c8626ac9b8bd819ce">mempool::size_t</a> blocks, <a class="el" href="namespaceos_1_1rtos_1_1mempool.html#a1638d8f5599ef06c8626ac9b8bd819ce">mempool::size_t</a> block_size_bytes)</td></tr>
<tr class="memdesc:a0e93a08a4b8914c08dec51d3d4bfd65f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a memory pool with custom settings.  <a href="#a0e93a08a4b8914c08dec51d3d4bfd65f">More...</a><br /></td></tr>
<tr class="separator:a0e93a08a4b8914c08dec51d3d4bfd65f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81f08979403e5ad8313b8e45cdfb6707"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_memory__pool.html#a81f08979403e5ad8313b8e45cdfb6707">~Memory_pool</a> ()</td></tr>
<tr class="memdesc:a81f08979403e5ad8313b8e45cdfb6707"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy the memory pool.  <a href="#a81f08979403e5ad8313b8e45cdfb6707">More...</a><br /></td></tr>
<tr class="separator:a81f08979403e5ad8313b8e45cdfb6707"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Operators</div></td></tr>
<tr class="memitem:af41f7756fc59e907efee2b39a268c142"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_memory__pool.html#af41f7756fc59e907efee2b39a268c142">operator==</a> (const <a class="el" href="classos_1_1rtos_1_1_memory__pool.html">Memory_pool</a> &amp;rhs) const </td></tr>
<tr class="memdesc:af41f7756fc59e907efee2b39a268c142"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compare memory pools.  <a href="#af41f7756fc59e907efee2b39a268c142">More...</a><br /></td></tr>
<tr class="separator:af41f7756fc59e907efee2b39a268c142"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Public Member Functions</div></td></tr>
<tr class="memitem:a74c3f9e2c59cd7d8d109deaa708a4550"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_memory__pool.html#a74c3f9e2c59cd7d8d109deaa708a4550">alloc</a> (void)</td></tr>
<tr class="memdesc:a74c3f9e2c59cd7d8d109deaa708a4550"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate a memory block.  <a href="#a74c3f9e2c59cd7d8d109deaa708a4550">More...</a><br /></td></tr>
<tr class="separator:a74c3f9e2c59cd7d8d109deaa708a4550"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a109bae1e2cf390f7208c79a598808cb5"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_memory__pool.html#a109bae1e2cf390f7208c79a598808cb5">try_alloc</a> (void)</td></tr>
<tr class="memdesc:a109bae1e2cf390f7208c79a598808cb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate a memory block.  <a href="#a109bae1e2cf390f7208c79a598808cb5">More...</a><br /></td></tr>
<tr class="separator:a109bae1e2cf390f7208c79a598808cb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2a07be73677fd490a58b6ec9ed2c2cf"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_memory__pool.html#aa2a07be73677fd490a58b6ec9ed2c2cf">timed_alloc</a> (<a class="el" href="namespaceos_1_1rtos_1_1clock.html#a61ab6fb2482ab2d9ef03f6e0aa445287">clock::duration_t</a> timeout)</td></tr>
<tr class="memdesc:aa2a07be73677fd490a58b6ec9ed2c2cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate a memory block with timeout.  <a href="#aa2a07be73677fd490a58b6ec9ed2c2cf">More...</a><br /></td></tr>
<tr class="separator:aa2a07be73677fd490a58b6ec9ed2c2cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd453c05903c5941cc2f8026e754b130"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_memory__pool.html#acd453c05903c5941cc2f8026e754b130">free</a> (void *block)</td></tr>
<tr class="memdesc:acd453c05903c5941cc2f8026e754b130"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free the memory block.  <a href="#acd453c05903c5941cc2f8026e754b130">More...</a><br /></td></tr>
<tr class="separator:acd453c05903c5941cc2f8026e754b130"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54215fd90887fdc2d6f05c2853c92189"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_memory__pool.html#a54215fd90887fdc2d6f05c2853c92189">capacity</a> (void) const </td></tr>
<tr class="memdesc:a54215fd90887fdc2d6f05c2853c92189"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get memory pool capacity.  <a href="#a54215fd90887fdc2d6f05c2853c92189">More...</a><br /></td></tr>
<tr class="separator:a54215fd90887fdc2d6f05c2853c92189"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39bd7051f43978c4128d99aec31e6c25"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_memory__pool.html#a39bd7051f43978c4128d99aec31e6c25">count</a> (void) const </td></tr>
<tr class="memdesc:a39bd7051f43978c4128d99aec31e6c25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get blocks count.  <a href="#a39bd7051f43978c4128d99aec31e6c25">More...</a><br /></td></tr>
<tr class="separator:a39bd7051f43978c4128d99aec31e6c25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af01aba174d765ec9b7f1beab36ac1550"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_memory__pool.html#af01aba174d765ec9b7f1beab36ac1550">block_size</a> (void) const </td></tr>
<tr class="memdesc:af01aba174d765ec9b7f1beab36ac1550"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get block size.  <a href="#af01aba174d765ec9b7f1beab36ac1550">More...</a><br /></td></tr>
<tr class="separator:af01aba174d765ec9b7f1beab36ac1550"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9564feab38340dec5cb676783d8d73c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_memory__pool.html#af9564feab38340dec5cb676783d8d73c">empty</a> (void) const </td></tr>
<tr class="memdesc:af9564feab38340dec5cb676783d8d73c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the memory pool is empty.  <a href="#af9564feab38340dec5cb676783d8d73c">More...</a><br /></td></tr>
<tr class="separator:af9564feab38340dec5cb676783d8d73c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf5cb4d62f0051ddd2affc2d8e35f03a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_memory__pool.html#acf5cb4d62f0051ddd2affc2d8e35f03a">full</a> (void) const </td></tr>
<tr class="memdesc:acf5cb4d62f0051ddd2affc2d8e35f03a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the memory pool is full.  <a href="#acf5cb4d62f0051ddd2affc2d8e35f03a">More...</a><br /></td></tr>
<tr class="separator:acf5cb4d62f0051ddd2affc2d8e35f03a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cab32750c0bc81551516c22476d333a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_memory__pool.html#a7cab32750c0bc81551516c22476d333a">reset</a> (void)</td></tr>
<tr class="memdesc:a7cab32750c0bc81551516c22476d333a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the memory pool.  <a href="#a7cab32750c0bc81551516c22476d333a">More...</a><br /></td></tr>
<tr class="separator:a7cab32750c0bc81551516c22476d333a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a919eae822b556433369b0f3b60aa35c6"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_memory__pool.html#a919eae822b556433369b0f3b60aa35c6">pool</a> (void)</td></tr>
<tr class="separator:a919eae822b556433369b0f3b60aa35c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Public Member Functions</div></td></tr>
<tr class="memitem:a1ced578ffc847e14547b02ee1473c44e"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">name</a> (void) const </td></tr>
<tr class="memdesc:a1ced578ffc847e14547b02ee1473c44e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get name.  <a href="#a1ced578ffc847e14547b02ee1473c44e">More...</a><br /></td></tr>
<tr class="separator:a1ced578ffc847e14547b02ee1473c44e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Private Member Functions</div></td></tr>
<tr class="memitem:a93f9534f4b7261f6092416502fd8e658"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_memory__pool.html#a93f9534f4b7261f6092416502fd8e658">_init</a> (void)</td></tr>
<tr class="memdesc:a93f9534f4b7261f6092416502fd8e658"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal initialisation.  <a href="#a93f9534f4b7261f6092416502fd8e658">More...</a><br /></td></tr>
<tr class="separator:a93f9534f4b7261f6092416502fd8e658"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2670b899849d7575924195c264568f81"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_memory__pool.html#a2670b899849d7575924195c264568f81">_try_first</a> (void)</td></tr>
<tr class="memdesc:a2670b899849d7575924195c264568f81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal function used to get the first linked block.  <a href="#a2670b899849d7575924195c264568f81">More...</a><br /></td></tr>
<tr class="separator:a2670b899849d7575924195c264568f81"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Private Member Variables</div></td></tr>
<tr class="memitem:ad7667db8bf3171d900237500cb0e1e67"><td class="memItemLeft" align="right" valign="top">const char *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_named__object.html#ad7667db8bf3171d900237500cb0e1e67">name_</a></td></tr>
<tr class="memdesc:ad7667db8bf3171d900237500cb0e1e67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to name.  <a href="#ad7667db8bf3171d900237500cb0e1e67">More...</a><br /></td></tr>
<tr class="separator:ad7667db8bf3171d900237500cb0e1e67"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Private Member Variables</h2></td></tr>
<tr class="memitem:a728d69104be7165a0af33d13eb7f49e3"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">: uint8_t { <a class="el" href="classos_1_1rtos_1_1_memory__pool.html#a728d69104be7165a0af33d13eb7f49e3a71b7b8404da49404bda9946227cd37e8">flags_allocated</a> = 1
 }<tr class="memdesc:a728d69104be7165a0af33d13eb7f49e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal bits.  <a href="classos_1_1rtos_1_1_memory__pool.html#a728d69104be7165a0af33d13eb7f49e3">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a728d69104be7165a0af33d13eb7f49e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa172792b51a3a5e85f9261a757480011"><td class="memItemLeft" align="right" valign="top">port::Waiting_threads_list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_memory__pool.html#aa172792b51a3a5e85f9261a757480011">list_</a></td></tr>
<tr class="separator:aa172792b51a3a5e85f9261a757480011"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae82a7ba6f5b86ce646380546d3e17c1b"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_memory__pool.html#ae82a7ba6f5b86ce646380546d3e17c1b">pool_addr_</a></td></tr>
<tr class="memdesc:ae82a7ba6f5b86ce646380546d3e17c1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Memory address where the pool is located.  <a href="#ae82a7ba6f5b86ce646380546d3e17c1b">More...</a><br /></td></tr>
<tr class="separator:ae82a7ba6f5b86ce646380546d3e17c1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af80711efed7c6c918b62e3ababf75937"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="namespaceos_1_1rtos_1_1mempool.html#a1638d8f5599ef06c8626ac9b8bd819ce">mempool::size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_memory__pool.html#af80711efed7c6c918b62e3ababf75937">blocks_</a></td></tr>
<tr class="memdesc:af80711efed7c6c918b62e3ababf75937"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of blocks in the pool.  <a href="#af80711efed7c6c918b62e3ababf75937">More...</a><br /></td></tr>
<tr class="separator:af80711efed7c6c918b62e3ababf75937"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54d48e4e81b01aa96f22f3bb2e16e28e"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="namespaceos_1_1rtos_1_1mempool.html#a1638d8f5599ef06c8626ac9b8bd819ce">mempool::size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_memory__pool.html#a54d48e4e81b01aa96f22f3bb2e16e28e">block_size_bytes_</a></td></tr>
<tr class="memdesc:a54d48e4e81b01aa96f22f3bb2e16e28e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The size of a block, in bytes.  <a href="#a54d48e4e81b01aa96f22f3bb2e16e28e">More...</a><br /></td></tr>
<tr class="separator:a54d48e4e81b01aa96f22f3bb2e16e28e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ac5fce7023a313fa35daa84800c9cad"><td class="memItemLeft" align="right" valign="top">volatile <a class="el" href="namespaceos_1_1rtos_1_1mempool.html#a1638d8f5599ef06c8626ac9b8bd819ce">mempool::size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_memory__pool.html#a7ac5fce7023a313fa35daa84800c9cad">count_</a></td></tr>
<tr class="memdesc:a7ac5fce7023a313fa35daa84800c9cad"><td class="mdescLeft">&#160;</td><td class="mdescRight">The current number of blocks allocated from the pool.  <a href="#a7ac5fce7023a313fa35daa84800c9cad">More...</a><br /></td></tr>
<tr class="separator:a7ac5fce7023a313fa35daa84800c9cad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48ad91b538ba95b5d30899a010a93382"><td class="memItemLeft" align="right" valign="top">void *volatile&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_memory__pool.html#a48ad91b538ba95b5d30899a010a93382">first_</a></td></tr>
<tr class="memdesc:a48ad91b538ba95b5d30899a010a93382"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the first free block, or nullptr.  <a href="#a48ad91b538ba95b5d30899a010a93382">More...</a><br /></td></tr>
<tr class="separator:a48ad91b538ba95b5d30899a010a93382"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bbda4dd137134024cca44329b6f8ef6"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_memory__pool.html#a1bbda4dd137134024cca44329b6f8ef6">flags_</a></td></tr>
<tr class="memdesc:a1bbda4dd137134024cca44329b6f8ef6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal status bits.  <a href="#a1bbda4dd137134024cca44329b6f8ef6">More...</a><br /></td></tr>
<tr class="separator:a1bbda4dd137134024cca44329b6f8ef6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Synchronised <b>memory pool</b>. </p>
<p>Manage a pool of same size blocks. Fast and deterministic allocation and dealocation behaviour, suitable for use even in ISRs.</p>
<dl class="section user"><dt>Example</dt><dd></dd></dl>
<div class="fragment"><div class="line"><span class="comment">// Define the type of one pool block.</span></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>{</div><div class="line">  uint32_t length;</div><div class="line">  uint32_t width;</div><div class="line">  uint32_t height;</div><div class="line">  uint32_t weight;</div><div class="line">} properties_t;</div><div class="line"></div><div class="line"><span class="comment">// Define the pool size.</span></div><div class="line">constexpr uint32_t pool_size = 10;</div><div class="line"></div><div class="line"><span class="comment">// Create the pool object.</span></div><div class="line"><a class="code" href="classos_1_1rtos_1_1_memory__pool.html#adda40166e1164eef680e42d4847d3e9f">Memory_pool</a> mp { pool_size, <span class="keyword">sizeof</span>(properties_t) };</div><div class="line"></div><div class="line"><span class="keywordtype">void</span></div><div class="line">func(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">  <span class="comment">// Do something</span></div><div class="line"></div><div class="line">  <span class="keywordtype">void</span>* buf;</div><div class="line"></div><div class="line">  <span class="comment">// Get one block from pool.</span></div><div class="line">  buf = mp.alloc();</div><div class="line"></div><div class="line">  <span class="comment">// ... use the buffer</span></div><div class="line"></div><div class="line">  <span class="comment">// Free the buffer.</span></div><div class="line">  mp.free(buf);</div><div class="line"></div><div class="line">  <span class="comment">// Do something else.</span></div><div class="line">}</div></div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>There is no equivalent of calloc(); to initialise to zero a memory block, use: <div class="fragment"><div class="line">block = mp.alloc();</div><div class="line">memset (block, 0, mp.block_size ());</div></div><!-- fragment --></dd></dl>
<dl class="section user"><dt>POSIX compatibility</dt><dd>No POSIX similar functionality identified. Current functionality inspired by ARM CMSIS, with extensions. </dd></dl>

<p>Definition at line <a class="el" href="os-mempool_8h_source.html#l00132">132</a> of file <a class="el" href="os-mempool_8h_source.html">os-mempool.h</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="a728d69104be7165a0af33d13eb7f49e3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum : uint8_t</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Internal bits. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a728d69104be7165a0af33d13eb7f49e3a71b7b8404da49404bda9946227cd37e8"></a>flags_allocated&#160;</td><td class="fielddoc">
<p>Remember to free the allocated memory block. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="os-mempool_8h_source.html#l00382">382</a> of file <a class="el" href="os-mempool_8h_source.html">os-mempool.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="adda40166e1164eef680e42d4847d3e9f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">os::rtos::Memory_pool::Memory_pool </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceos_1_1rtos_1_1mempool.html#a1638d8f5599ef06c8626ac9b8bd819ce">mempool::size_t</a>&#160;</td>
          <td class="paramname"><em>blocks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceos_1_1rtos_1_1mempool.html#a1638d8f5599ef06c8626ac9b8bd819ce">mempool::size_t</a>&#160;</td>
          <td class="paramname"><em>block_size_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a memory pool with default settings. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">blocks</td><td>The maximum number of items in the pool. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">block_size_bytes</td><td>The size of an item, in bytes.</td></tr>
  </table>
  </dd>
</dl>
<p>This constructor shall initialise the memory pool object with the given number of blocks and default settings. The effect shall be equivalent to creating a memory pool object referring to the attributes in <code><a class="el" href="namespaceos_1_1rtos_1_1mempool.html#ad4893ef077f7289499ed5957b938a7e6" title="Default memory pool initialiser. ">mempool::initializer</a></code>. Upon successful initialisation, the state of the memory pool shall become initialised, with all blocks available.</p>
<p>Only the memory pool itself may be used for allocations. It is not allowed to make copies of condition variable objects.</p>
<p>For default memory pool objects, the storage is dynamically allocated.</p>
<dl class="section warning"><dt>Warning</dt><dd>Cannot be invoked from Interrupt Service Routines. </dd></dl>

<p>Definition at line <a class="el" href="os-mempool_8cpp_source.html#l00196">196</a> of file <a class="el" href="os-mempool_8cpp_source.html">os-mempool.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a0e93a08a4b8914c08dec51d3d4bfd65f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">os::rtos::Memory_pool::Memory_pool </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classos_1_1rtos_1_1mempool_1_1_attributes.html">mempool::Attributes</a> &amp;&#160;</td>
          <td class="paramname"><em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceos_1_1rtos_1_1mempool.html#a1638d8f5599ef06c8626ac9b8bd819ce">mempool::size_t</a>&#160;</td>
          <td class="paramname"><em>blocks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceos_1_1rtos_1_1mempool.html#a1638d8f5599ef06c8626ac9b8bd819ce">mempool::size_t</a>&#160;</td>
          <td class="paramname"><em>block_size_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a memory pool with custom settings. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">attr</td><td>Reference to attributes. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">blocks</td><td>The maximum number of items in the pool. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">block_size_bytes</td><td>The size of an item, in bytes.</td></tr>
  </table>
  </dd>
</dl>
<p>This constructor shall initialise the memory pool object with attributes referenced by <em>attr</em>. If the attributes specified by <em>attr</em> are modified later, the memory pool attributes shall not be affected. Upon successful initialisation, the state of the memory pool variable shall become initialised.</p>
<p>Only the memory pool itself may be used for allocations. It is not allowed to make copies of condition variable objects.</p>
<p>In cases where default memory pool attributes are appropriate, the variable <code><a class="el" href="namespaceos_1_1rtos_1_1mempool.html#ad4893ef077f7289499ed5957b938a7e6" title="Default memory pool initialiser. ">mempool::initializer</a></code> can be used to initialise condition variables. The effect shall be equivalent to creating a memory pool object with the simple constructor.</p>
<p>If the attributes define a storage area, it is used, otherwise it is dynamically allocated.</p>
<dl class="section warning"><dt>Warning</dt><dd>Cannot be invoked from Interrupt Service Routines. </dd></dl>

<p>Definition at line <a class="el" href="os-mempool_8cpp_source.html#l00227">227</a> of file <a class="el" href="os-mempool_8cpp_source.html">os-mempool.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a81f08979403e5ad8313b8e45cdfb6707"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">os::rtos::Memory_pool::~Memory_pool </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy the memory pool. </p>
<p>This destructor shall destroy the memory pool object; the object becomes, in effect, uninitialised. An implementation may cause the destructor to set the object to an invalid value.</p>
<p>It shall be safe to destroy an initialised memory pool object upon which no threads are currently blocked. Attempting to destroy a memory pool object upon which other threads are currently blocked results in undefined behaviour.</p>
<p>If the storage for the memory pool was dynamically allocated, it is deallocated.</p>
<dl class="section warning"><dt>Warning</dt><dd>Cannot be invoked from Interrupt Service Routines. </dd></dl>

<p>Definition at line <a class="el" href="os-mempool_8cpp_source.html#l00284">284</a> of file <a class="el" href="os-mempool_8cpp_source.html">os-mempool.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a93f9534f4b7261f6092416502fd8e658"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void os::rtos::Memory_pool::_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Internal initialisation. </p>
<dl class="section user"><dt>Parameters</dt><dd>None </dd></dl>

<p>Definition at line <a class="el" href="os-mempool_8cpp_source.html#l00301">301</a> of file <a class="el" href="os-mempool_8cpp_source.html">os-mempool.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a2670b899849d7575924195c264568f81"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void * os::rtos::Memory_pool::_try_first </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Internal function used to get the first linked block. </p>
<dl class="section user"><dt>Parameters</dt><dd>None </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to block or <code>nullptr</code> if no more blocks available. </dd></dl>

<p>Definition at line <a class="el" href="os-mempool_8cpp_source.html#l00324">324</a> of file <a class="el" href="os-mempool_8cpp_source.html">os-mempool.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a74c3f9e2c59cd7d8d109deaa708a4550"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * os::rtos::Memory_pool::alloc </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate a memory block. </p>
<dl class="section user"><dt>Parameters</dt><dd>None </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to memory block, or <code>nullptr</code> if interrupted.</dd></dl>
<p>Allocate a fixed size memory block from the memory pool. If there are no free blocks, the current task is added to the waiting list and will wait until one block is freed.</p>
<p>The function uses a critical section to protect simultaneous access from other threads or interrupts.</p>
<dl class="section warning"><dt>Warning</dt><dd>Cannot be invoked from Interrupt Service Routines. </dd></dl>

<p>Definition at line <a class="el" href="os-mempool_8cpp_source.html#l00352">352</a> of file <a class="el" href="os-mempool_8cpp_source.html">os-mempool.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="af01aba174d765ec9b7f1beab36ac1550"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t os::rtos::Memory_pool::block_size </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get block size. </p>
<dl class="section user"><dt>Parameters</dt><dd>None </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The block size, in bytes. </dd></dl>

<p>Definition at line <a class="el" href="os-mempool_8h_source.html#l00440">440</a> of file <a class="el" href="os-mempool_8h_source.html">os-mempool.h</a>.</p>

</div>
</div>
<a class="anchor" id="a54215fd90887fdc2d6f05c2853c92189"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t os::rtos::Memory_pool::capacity </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get memory pool capacity. </p>
<dl class="section user"><dt>Parameters</dt><dd>None </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The max number of blocks in the pool. </dd></dl>

<p>Definition at line <a class="el" href="os-mempool_8h_source.html#l00434">434</a> of file <a class="el" href="os-mempool_8h_source.html">os-mempool.h</a>.</p>

</div>
</div>
<a class="anchor" id="a39bd7051f43978c4128d99aec31e6c25"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t os::rtos::Memory_pool::count </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get blocks count. </p>
<dl class="section user"><dt>Parameters</dt><dd>None </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The number of blocks used from the queue. </dd></dl>

<p>Definition at line <a class="el" href="os-mempool_8h_source.html#l00446">446</a> of file <a class="el" href="os-mempool_8h_source.html">os-mempool.h</a>.</p>

</div>
</div>
<a class="anchor" id="af9564feab38340dec5cb676783d8d73c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool os::rtos::Memory_pool::empty </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the memory pool is empty. </p>
<dl class="section user"><dt>Parameters</dt><dd>None </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>The memory pool has no allocated blocks. </td></tr>
    <tr><td class="paramname">false</td><td>The memory pool has allocated blocks. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="os-mempool_8h_source.html#l00452">452</a> of file <a class="el" href="os-mempool_8h_source.html">os-mempool.h</a>.</p>

</div>
</div>
<a class="anchor" id="acd453c05903c5941cc2f8026e754b130"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a> os::rtos::Memory_pool::free </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>block</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free the memory block. </p>
<dl class="section user"><dt>Parameters</dt><dd>None </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="namespaceos_1_1rtos_1_1result.html#a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b" title="Function completed; no errors or events occurred. ">result::ok</a></td><td>The memory block was released. </td></tr>
    <tr><td class="paramname">EINVAL</td><td>The block does not belong to the memory pool.</td></tr>
  </table>
  </dd>
</dl>
<p>Return a memory block previously allocated by <code><a class="el" href="classos_1_1rtos_1_1_memory__pool.html#a74c3f9e2c59cd7d8d109deaa708a4550" title="Allocate a memory block. ">alloc()</a></code> back to the memory pool.</p>
<p>It uses a critical section to protect simultaneous access from other threads or interrupts.</p>
<dl class="section note"><dt>Note</dt><dd>Can be invoked from Interrupt Service Routines. </dd></dl>

<p>Definition at line <a class="el" href="os-mempool_8cpp_source.html#l00493">493</a> of file <a class="el" href="os-mempool_8cpp_source.html">os-mempool.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="acf5cb4d62f0051ddd2affc2d8e35f03a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool os::rtos::Memory_pool::full </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the memory pool is full. </p>
<dl class="section user"><dt>Parameters</dt><dd>None </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>All memory blocks are allocated. </td></tr>
    <tr><td class="paramname">false</td><td>There are still memory blocks that can be allocated. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="os-mempool_8h_source.html#l00458">458</a> of file <a class="el" href="os-mempool_8h_source.html">os-mempool.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1ced578ffc847e14547b02ee1473c44e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char * os::rtos::Named_object::name </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get name. </p>
<dl class="section user"><dt>Parameters</dt><dd>None. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>A null terminated string.</dd></dl>
<p>All objects return a non-null string; anonymous objects return <code>"-"</code>. </p>

<p>Definition at line <a class="el" href="os-decls_8h_source.html#l00835">835</a> of file <a class="el" href="os-decls_8h_source.html">os-decls.h</a>.</p>

</div>
</div>
<a class="anchor" id="af41f7756fc59e907efee2b39a268c142"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool os::rtos::Memory_pool::operator== </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classos_1_1rtos_1_1_memory__pool.html">Memory_pool</a> &amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compare memory pools. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>The given memory pool is the same as this memory pool. </td></tr>
    <tr><td class="paramname">false</td><td>The memory pools are different.</td></tr>
  </table>
  </dd>
</dl>
<p>Identical memory pools should have the same memory address. </p>

<p>Definition at line <a class="el" href="os-mempool_8h_source.html#l00428">428</a> of file <a class="el" href="os-mempool_8h_source.html">os-mempool.h</a>.</p>

</div>
</div>
<a class="anchor" id="a919eae822b556433369b0f3b60aa35c6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void * os::rtos::Memory_pool::pool </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section user"><dt>Parameters</dt><dd>None </dd></dl>

<p>Definition at line <a class="el" href="os-mempool_8h_source.html#l00464">464</a> of file <a class="el" href="os-mempool_8h_source.html">os-mempool.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7cab32750c0bc81551516c22476d333a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a> os::rtos::Memory_pool::reset </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset the memory pool. </p>
<dl class="section user"><dt>Parameters</dt><dd>None </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="namespaceos_1_1rtos_1_1result.html#a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b" title="Function completed; no errors or events occurred. ">result::ok</a></td><td>The memory pool was reset. </td></tr>
    <tr><td class="paramname">EPERM</td><td>Cannot be invoked from an Interrupt Service Routines.</td></tr>
  </table>
  </dd>
</dl>
<p>Reset the memory pool to the initial state, with all blocks free.</p>
<dl class="section warning"><dt>Warning</dt><dd>Cannot be invoked from Interrupt Service Routines. </dd></dl>

<p>Definition at line <a class="el" href="os-mempool_8cpp_source.html#l00533">533</a> of file <a class="el" href="os-mempool_8cpp_source.html">os-mempool.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa2a07be73677fd490a58b6ec9ed2c2cf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * os::rtos::Memory_pool::timed_alloc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceos_1_1rtos_1_1clock.html#a61ab6fb2482ab2d9ef03f6e0aa445287">clock::duration_t</a>&#160;</td>
          <td class="paramname"><em>timeout</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate a memory block with timeout. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout</td><td>Timeout to wait, in clock units (ticks or seconds). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to memory block, or <code>nullptr</code> if timeout.</dd></dl>
<p>Allocate a fixed size memory block from the memory pool. If there are no free blocks, the current task is added to the waiting list and will wait until one block is freed or the timeout expired.</p>
<p>It uses a critical section to protect simultaneous access from other threads or interrupts.</p>
<dl class="section warning"><dt>Warning</dt><dd>Cannot be invoked from Interrupt Service Routines. </dd></dl>

<p>Definition at line <a class="el" href="os-mempool_8cpp_source.html#l00426">426</a> of file <a class="el" href="os-mempool_8cpp_source.html">os-mempool.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a109bae1e2cf390f7208c79a598808cb5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * os::rtos::Memory_pool::try_alloc </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate a memory block. </p>
<dl class="section user"><dt>Parameters</dt><dd>None </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to memory block, or <code>nullptr</code> if no memory available.</dd></dl>
<p>Try to allocate a fixed size memory block from the memory pool, if available, return it, otherwise return <code>nullptr</code>.</p>
<p>It uses a critical section to protect simultaneous access from other threads or interrupts.</p>
<dl class="section note"><dt>Note</dt><dd>Can be invoked from Interrupt Service Routines. </dd></dl>

<p>Definition at line <a class="el" href="os-mempool_8cpp_source.html#l00406">406</a> of file <a class="el" href="os-mempool_8cpp_source.html">os-mempool.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a54d48e4e81b01aa96f22f3bb2e16e28e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespaceos_1_1rtos_1_1mempool.html#a1638d8f5599ef06c8626ac9b8bd819ce">mempool::size_t</a> os::rtos::Memory_pool::block_size_bytes_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The size of a block, in bytes. </p>

<p>Definition at line <a class="el" href="os-mempool_8h_source.html#l00359">359</a> of file <a class="el" href="os-mempool_8h_source.html">os-mempool.h</a>.</p>

</div>
</div>
<a class="anchor" id="af80711efed7c6c918b62e3ababf75937"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespaceos_1_1rtos_1_1mempool.html#a1638d8f5599ef06c8626ac9b8bd819ce">mempool::size_t</a> os::rtos::Memory_pool::blocks_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The number of blocks in the pool. </p>

<p>Definition at line <a class="el" href="os-mempool_8h_source.html#l00354">354</a> of file <a class="el" href="os-mempool_8h_source.html">os-mempool.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7ac5fce7023a313fa35daa84800c9cad"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile <a class="el" href="namespaceos_1_1rtos_1_1mempool.html#a1638d8f5599ef06c8626ac9b8bd819ce">mempool::size_t</a> os::rtos::Memory_pool::count_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The current number of blocks allocated from the pool. </p>

<p>Definition at line <a class="el" href="os-mempool_8h_source.html#l00364">364</a> of file <a class="el" href="os-mempool_8h_source.html">os-mempool.h</a>.</p>

</div>
</div>
<a class="anchor" id="a48ad91b538ba95b5d30899a010a93382"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void* volatile os::rtos::Memory_pool::first_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to the first free block, or nullptr. </p>

<p>Definition at line <a class="el" href="os-mempool_8h_source.html#l00372">372</a> of file <a class="el" href="os-mempool_8h_source.html">os-mempool.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1bbda4dd137134024cca44329b6f8ef6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t os::rtos::Memory_pool::flags_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Internal status bits. </p>

<p>Definition at line <a class="el" href="os-mempool_8h_source.html#l00377">377</a> of file <a class="el" href="os-mempool_8h_source.html">os-mempool.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa172792b51a3a5e85f9261a757480011"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">port::Waiting_threads_list os::rtos::Memory_pool::list_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="os-mempool_8h_source.html#l00336">336</a> of file <a class="el" href="os-mempool_8h_source.html">os-mempool.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad7667db8bf3171d900237500cb0e1e67"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char *const os::rtos::Named_object::name_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to name. </p>
<p>To save space, the null terminated string passed to the constructor is not copied locally. Instead, the pointer to the string is copied, so the caller must ensure that the pointer life cycle is at least as long as the object life cycle. A constant string (stored in flash) is preferred. </p>

<p>Definition at line <a class="el" href="os-decls_8h_source.html#l00797">797</a> of file <a class="el" href="os-decls_8h_source.html">os-decls.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae82a7ba6f5b86ce646380546d3e17c1b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char* os::rtos::Memory_pool::pool_addr_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Memory address where the pool is located. </p>
<p>If the pool was dynamically allocated, the <code>flags_allocated</code> bit will be set in <code>flags_</code> and the destructor will deallocate.. </p>

<p>Definition at line <a class="el" href="os-mempool_8h_source.html#l00344">344</a> of file <a class="el" href="os-mempool_8h_source.html">os-mempool.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/cmsis-plus/rtos/<a class="el" href="os-mempool_8h_source.html">os-mempool.h</a></li>
<li>src/cmsis-plus/rtos/<a class="el" href="os-mempool_8cpp_source.html">os-mempool.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceos.html">os</a></li><li class="navelem"><a class="el" href="namespaceos_1_1rtos.html">rtos</a></li><li class="navelem"><a class="el" href="classos_1_1rtos_1_1_memory__pool.html">Memory_pool</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
