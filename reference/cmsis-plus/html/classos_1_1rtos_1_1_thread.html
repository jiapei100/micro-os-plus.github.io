<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>CMSIS++ Reference: os::rtos::Thread Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="$relpath/../../../.."><img alt="Logo" src="logo.png"/></a></td>
  <td id="projectalign">
   <div>
     <div id="projectname">CMSIS++ Reference
     &#160;<span id="projectnumber">0.1.1</span>
     </div>
     <div id="projectmotto" class="float:right;">“Perfekt ist nicht gut genug”</div>
     </div>  
   </div>
   <div id="projectbrief">CMSIS++: A proposal for the next generation CMSIS, written in C++.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classos_1_1rtos_1_1_thread.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classos_1_1rtos_1_1_thread-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">os::rtos::Thread Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>POSIX thread.  
 <a href="classos_1_1rtos_1_1_thread.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="os_8h_source.html">os.h</a>&gt;</code></p>

<p>Inherits <a class="el" href="classos_1_1rtos_1_1_named__object.html">os::rtos::Named_object</a>.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa6683ed71435ffac38839854a5a691ca"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#aa6683ed71435ffac38839854a5a691ca">Thread</a> (<a class="el" href="namespaceos_1_1rtos_1_1thread.html#af6b0d4a09e097f97dbd9766054e8f3aa">thread::func_t</a> function, <a class="el" href="namespaceos_1_1rtos_1_1thread.html#abbcff6db915a1e4cfaa769d355efd8b5">thread::func_args_t</a> <a class="el" href="os-main_8cpp.html#abfe3b8fa544fc06e643907094461f4ec">args</a>)</td></tr>
<tr class="memdesc:aa6683ed71435ffac38839854a5a691ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new thread with default settings.  <a href="#aa6683ed71435ffac38839854a5a691ca">More...</a><br /></td></tr>
<tr class="separator:aa6683ed71435ffac38839854a5a691ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a185c3b179549258d701da7ae7360fe66"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#a185c3b179549258d701da7ae7360fe66">Thread</a> (const <a class="el" href="classos_1_1rtos_1_1thread_1_1_attributes.html">thread::Attributes</a> &amp;<a class="el" href="os-main_8cpp.html#afa497dd39af40726a08466395f5bb084">attr</a>, <a class="el" href="namespaceos_1_1rtos_1_1thread.html#af6b0d4a09e097f97dbd9766054e8f3aa">thread::func_t</a> function, <a class="el" href="namespaceos_1_1rtos_1_1thread.html#abbcff6db915a1e4cfaa769d355efd8b5">thread::func_args_t</a> <a class="el" href="os-main_8cpp.html#abfe3b8fa544fc06e643907094461f4ec">args</a>)</td></tr>
<tr class="memdesc:a185c3b179549258d701da7ae7360fe66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new thread with custom settings.  <a href="#a185c3b179549258d701da7ae7360fe66">More...</a><br /></td></tr>
<tr class="separator:a185c3b179549258d701da7ae7360fe66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67ff2c1cae34bc12239034198bf9691a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#a67ff2c1cae34bc12239034198bf9691a">Thread</a> (const <a class="el" href="classos_1_1rtos_1_1_thread.html">Thread</a> &amp;)=delete</td></tr>
<tr class="separator:a67ff2c1cae34bc12239034198bf9691a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a245ae49afc6d978b093eb82e314810a1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#a245ae49afc6d978b093eb82e314810a1">Thread</a> (<a class="el" href="classos_1_1rtos_1_1_thread.html">Thread</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:a245ae49afc6d978b093eb82e314810a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1df5ca16c208aa44a8258f4b97d9ce82"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classos_1_1rtos_1_1_thread.html">Thread</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#a1df5ca16c208aa44a8258f4b97d9ce82">operator=</a> (const <a class="el" href="classos_1_1rtos_1_1_thread.html">Thread</a> &amp;)=delete</td></tr>
<tr class="separator:a1df5ca16c208aa44a8258f4b97d9ce82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9f4e68a5714d0d93d326c6a15d36bce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classos_1_1rtos_1_1_thread.html">Thread</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#ac9f4e68a5714d0d93d326c6a15d36bce">operator=</a> (<a class="el" href="classos_1_1rtos_1_1_thread.html">Thread</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:ac9f4e68a5714d0d93d326c6a15d36bce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99060f503fc271b572eb4ae799b0e34a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#a99060f503fc271b572eb4ae799b0e34a">~Thread</a> ()</td></tr>
<tr class="separator:a99060f503fc271b572eb4ae799b0e34a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13c4ed95ff23cdf8c05f8512b8e3f1db"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#a13c4ed95ff23cdf8c05f8512b8e3f1db">operator==</a> (const <a class="el" href="classos_1_1rtos_1_1_thread.html">Thread</a> &amp;rhs) const </td></tr>
<tr class="memdesc:a13c4ed95ff23cdf8c05f8512b8e3f1db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compare threads.  <a href="#a13c4ed95ff23cdf8c05f8512b8e3f1db">More...</a><br /></td></tr>
<tr class="separator:a13c4ed95ff23cdf8c05f8512b8e3f1db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69f3db9508cbf4faae64628eb0766ef8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#a69f3db9508cbf4faae64628eb0766ef8">cancel</a> (void)</td></tr>
<tr class="memdesc:a69f3db9508cbf4faae64628eb0766ef8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel thread execution.  <a href="#a69f3db9508cbf4faae64628eb0766ef8">More...</a><br /></td></tr>
<tr class="separator:a69f3db9508cbf4faae64628eb0766ef8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a957d4296bd3ba95e3f22b776a8c18518"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#a957d4296bd3ba95e3f22b776a8c18518">join</a> (void **exit_ptr=nullptr)</td></tr>
<tr class="memdesc:a957d4296bd3ba95e3f22b776a8c18518"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for thread termination.  <a href="#a957d4296bd3ba95e3f22b776a8c18518">More...</a><br /></td></tr>
<tr class="separator:a957d4296bd3ba95e3f22b776a8c18518"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac209f38c6d73ec996286c83fc20b668b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#ac209f38c6d73ec996286c83fc20b668b">detach</a> (void)</td></tr>
<tr class="memdesc:ac209f38c6d73ec996286c83fc20b668b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detach a thread.  <a href="#ac209f38c6d73ec996286c83fc20b668b">More...</a><br /></td></tr>
<tr class="separator:ac209f38c6d73ec996286c83fc20b668b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adda417485c68f1af5c279f0e36dc6382"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#adda417485c68f1af5c279f0e36dc6382">sched_prio</a> (<a class="el" href="namespaceos_1_1rtos_1_1thread.html#a1257cd2ea834219f38831bcf66485103">thread::priority_t</a> prio)</td></tr>
<tr class="memdesc:adda417485c68f1af5c279f0e36dc6382"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set dynamic scheduling priority.  <a href="#adda417485c68f1af5c279f0e36dc6382">More...</a><br /></td></tr>
<tr class="separator:adda417485c68f1af5c279f0e36dc6382"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1118dae8826231c78f8805704f90a66"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceos_1_1rtos_1_1thread.html#a1257cd2ea834219f38831bcf66485103">thread::priority_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#af1118dae8826231c78f8805704f90a66">sched_prio</a> (void)</td></tr>
<tr class="memdesc:af1118dae8826231c78f8805704f90a66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current scheduling priority.  <a href="#af1118dae8826231c78f8805704f90a66">More...</a><br /></td></tr>
<tr class="separator:af1118dae8826231c78f8805704f90a66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a707ddda84d350fe2371e0095ae5eddad"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#a707ddda84d350fe2371e0095ae5eddad">interrupted</a> (void)</td></tr>
<tr class="separator:a707ddda84d350fe2371e0095ae5eddad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f7a57857cfb1806f6ffb7e139c0bcce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceos_1_1rtos_1_1thread.html#ac83bf77031e2c139bb553426b0805d2d">thread::state_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#a6f7a57857cfb1806f6ffb7e139c0bcce">sched_state</a> (void) const </td></tr>
<tr class="separator:a6f7a57857cfb1806f6ffb7e139c0bcce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36e40610400fba15e445695974cd712e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#a36e40610400fba15e445695974cd712e">wakeup</a> (void)</td></tr>
<tr class="memdesc:a36e40610400fba15e445695974cd712e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wake-up the thread.  <a href="#a36e40610400fba15e445695974cd712e">More...</a><br /></td></tr>
<tr class="separator:a36e40610400fba15e445695974cd712e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6749ec40f4efc916b4616ccc1b28658"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#ab6749ec40f4efc916b4616ccc1b28658">function_args</a> (void) const </td></tr>
<tr class="separator:ab6749ec40f4efc916b4616ccc1b28658"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac403644442b53259133526e8cf073771"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceos_1_1rtos.html#adb48abed9491a66df9843f79393da054">os_thread_user_storage_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#ac403644442b53259133526e8cf073771">user_storage</a> (void)</td></tr>
<tr class="memdesc:ac403644442b53259133526e8cf073771"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get user storage.  <a href="#ac403644442b53259133526e8cf073771">More...</a><br /></td></tr>
<tr class="separator:ac403644442b53259133526e8cf073771"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2936cb3bffb587e83ec9d199ac1898c8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#a2936cb3bffb587e83ec9d199ac1898c8">sig_raise</a> (<a class="el" href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">thread::sigset_t</a> mask, <a class="el" href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">thread::sigset_t</a> *oflags)</td></tr>
<tr class="memdesc:a2936cb3bffb587e83ec9d199ac1898c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Raise thread signal flags.  <a href="#a2936cb3bffb587e83ec9d199ac1898c8">More...</a><br /></td></tr>
<tr class="separator:a2936cb3bffb587e83ec9d199ac1898c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a684676c4acf5fe6ad4a7a0aa6ea4c854"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#a684676c4acf5fe6ad4a7a0aa6ea4c854">sig_clear</a> (<a class="el" href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">thread::sigset_t</a> mask, <a class="el" href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">thread::sigset_t</a> *oflags)</td></tr>
<tr class="memdesc:a684676c4acf5fe6ad4a7a0aa6ea4c854"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear thread signal flags.  <a href="#a684676c4acf5fe6ad4a7a0aa6ea4c854">More...</a><br /></td></tr>
<tr class="separator:a684676c4acf5fe6ad4a7a0aa6ea4c854"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2661cc44d1b239382f95baba06ab2e3e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">thread::sigset_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#a2661cc44d1b239382f95baba06ab2e3e">sig_get</a> (<a class="el" href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">thread::sigset_t</a> mask, <a class="el" href="namespaceos_1_1rtos_1_1flags.html#a49c1da8337c9d32697fefbdf0412cdac">flags::mode_t</a> mode)</td></tr>
<tr class="memdesc:a2661cc44d1b239382f95baba06ab2e3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get/clear thread signal flags.  <a href="#a2661cc44d1b239382f95baba06ab2e3e">More...</a><br /></td></tr>
<tr class="separator:a2661cc44d1b239382f95baba06ab2e3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac3754078e72a953ec8f5ecda951a2ef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#aac3754078e72a953ec8f5ecda951a2ef">kill</a> (void)</td></tr>
<tr class="memdesc:aac3754078e72a953ec8f5ecda951a2ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Force thread termination.  <a href="#aac3754078e72a953ec8f5ecda951a2ef">More...</a><br /></td></tr>
<tr class="separator:aac3754078e72a953ec8f5ecda951a2ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ced578ffc847e14547b02ee1473c44e"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">name</a> (void) const </td></tr>
<tr class="separator:a1ced578ffc847e14547b02ee1473c44e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:adb62f9d5c8007d0032cd45ddbacab5f5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#adb62f9d5c8007d0032cd45ddbacab5f5">suspend</a> (void)</td></tr>
<tr class="memdesc:adb62f9d5c8007d0032cd45ddbacab5f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Suspend the current thread.  <a href="#adb62f9d5c8007d0032cd45ddbacab5f5">More...</a><br /></td></tr>
<tr class="separator:adb62f9d5c8007d0032cd45ddbacab5f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ff00b11ac8009e8c93e4b6622befa64"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#a8ff00b11ac8009e8c93e4b6622befa64">exit</a> (void *exit_ptr=nullptr)</td></tr>
<tr class="memdesc:a8ff00b11ac8009e8c93e4b6622befa64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Terminate thread.  <a href="#a8ff00b11ac8009e8c93e4b6622befa64">More...</a><br /></td></tr>
<tr class="separator:a8ff00b11ac8009e8c93e4b6622befa64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a290fdad87e54541b91811d62a5f57f50"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#a290fdad87e54541b91811d62a5f57f50">sig_wait</a> (<a class="el" href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">thread::sigset_t</a> mask, <a class="el" href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">thread::sigset_t</a> *oflags, <a class="el" href="namespaceos_1_1rtos_1_1flags.html#a49c1da8337c9d32697fefbdf0412cdac">flags::mode_t</a> mode)</td></tr>
<tr class="separator:a290fdad87e54541b91811d62a5f57f50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f5bd5fb10f9a2e09f15820ac3f7bc08"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#a6f5bd5fb10f9a2e09f15820ac3f7bc08">try_sig_wait</a> (<a class="el" href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">thread::sigset_t</a> mask, <a class="el" href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">thread::sigset_t</a> *oflags, <a class="el" href="namespaceos_1_1rtos_1_1flags.html#a49c1da8337c9d32697fefbdf0412cdac">flags::mode_t</a> mode)</td></tr>
<tr class="separator:a6f5bd5fb10f9a2e09f15820ac3f7bc08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3f0a2a4ec37397a91a3492ad5aa2165"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#ad3f0a2a4ec37397a91a3492ad5aa2165">timed_sig_wait</a> (<a class="el" href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">thread::sigset_t</a> mask, <a class="el" href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">thread::sigset_t</a> *oflags, <a class="el" href="namespaceos_1_1rtos.html#aba7f568590671eed574e70d3a38de2df">systicks_t</a> ticks, <a class="el" href="namespaceos_1_1rtos_1_1flags.html#a49c1da8337c9d32697fefbdf0412cdac">flags::mode_t</a> mode)</td></tr>
<tr class="separator:ad3f0a2a4ec37397a91a3492ad5aa2165"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16553b693dc0aab46b9cd8812bb509dc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#a16553b693dc0aab46b9cd8812bb509dc">_try_wait</a> (<a class="el" href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">thread::sigset_t</a> mask, <a class="el" href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">thread::sigset_t</a> *oflags, <a class="el" href="namespaceos_1_1rtos_1_1flags.html#a49c1da8337c9d32697fefbdf0412cdac">flags::mode_t</a> mode)</td></tr>
<tr class="separator:a16553b693dc0aab46b9cd8812bb509dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7cc69f15755c7cf0cf98314ab6e5901"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#af7cc69f15755c7cf0cf98314ab6e5901">_destroy</a> (void)</td></tr>
<tr class="separator:af7cc69f15755c7cf0cf98314ab6e5901"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr class="memitem:aeffe0f65c42f83b02dc16ff3dd0bd33a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#aeffe0f65c42f83b02dc16ff3dd0bd33a">_invoke_with_exit</a> (<a class="el" href="classos_1_1rtos_1_1_thread.html">Thread</a> *thread)</td></tr>
<tr class="memdesc:aeffe0f65c42f83b02dc16ff3dd0bd33a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invoke terminating thread function.  <a href="#aeffe0f65c42f83b02dc16ff3dd0bd33a">More...</a><br /></td></tr>
<tr class="separator:aeffe0f65c42f83b02dc16ff3dd0bd33a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a6bbc905123b44c33b53e8e1e25978218"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#a6bbc905123b44c33b53e8e1e25978218">stack_addr_</a></td></tr>
<tr class="separator:a6bbc905123b44c33b53e8e1e25978218"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78533ffaf052b92a45e131f9e22b95fe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceos_1_1rtos_1_1thread.html#af6b0d4a09e097f97dbd9766054e8f3aa">thread::func_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#a78533ffaf052b92a45e131f9e22b95fe">func_</a></td></tr>
<tr class="separator:a78533ffaf052b92a45e131f9e22b95fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a221bef067614777aaf4815d713edde10"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceos_1_1rtos_1_1thread.html#abbcff6db915a1e4cfaa769d355efd8b5">thread::func_args_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#a221bef067614777aaf4815d713edde10">func_args_</a></td></tr>
<tr class="separator:a221bef067614777aaf4815d713edde10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46b7138eee7bf69fd4785037c696aaa8"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#a46b7138eee7bf69fd4785037c696aaa8">func_result_</a></td></tr>
<tr class="separator:a46b7138eee7bf69fd4785037c696aaa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae309b8779ce2d831369fd545dd269882"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classos_1_1rtos_1_1_thread.html">Thread</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#ae309b8779ce2d831369fd545dd269882">joiner_</a></td></tr>
<tr class="separator:ae309b8779ce2d831369fd545dd269882"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a271099ccd0fa842d067aa89e2fd5a732"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#a271099ccd0fa842d067aa89e2fd5a732">stack_size_bytes_</a></td></tr>
<tr class="separator:a271099ccd0fa842d067aa89e2fd5a732"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b767f10a973eb5640852b7e12ccd4e1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceos_1_1rtos_1_1thread.html#ac83bf77031e2c139bb553426b0805d2d">thread::state_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#a5b767f10a973eb5640852b7e12ccd4e1">sched_state_</a></td></tr>
<tr class="separator:a5b767f10a973eb5640852b7e12ccd4e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb6b86867c6dcc9e2e0cc088e365b9fe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceos_1_1rtos_1_1thread.html#a1257cd2ea834219f38831bcf66485103">thread::priority_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#acb6b86867c6dcc9e2e0cc088e365b9fe">prio_</a></td></tr>
<tr class="separator:acb6b86867c6dcc9e2e0cc088e365b9fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af88f029af724c2c39ae1a5ee5132f237"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#af88f029af724c2c39ae1a5ee5132f237">wakeup_reason_</a></td></tr>
<tr class="separator:af88f029af724c2c39ae1a5ee5132f237"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab36f37b895c94f45cac841c00e9f5722"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">thread::sigset_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#ab36f37b895c94f45cac841c00e9f5722">sig_mask_</a></td></tr>
<tr class="separator:ab36f37b895c94f45cac841c00e9f5722"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c1e7318a3f64afaeb14d0be375d8823"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceos_1_1rtos.html#adb48abed9491a66df9843f79393da054">os_thread_user_storage_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#a6c1e7318a3f64afaeb14d0be375d8823">user_storage_</a></td></tr>
<tr class="separator:a6c1e7318a3f64afaeb14d0be375d8823"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c6435f5bbc1c2793664672cbf420d70"><td class="memItemLeft" align="right" valign="top">const char *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_named__object.html#a7c6435f5bbc1c2793664672cbf420d70">name_</a></td></tr>
<tr class="separator:a7c6435f5bbc1c2793664672cbf420d70"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a13a10a69c2f044614a3105a593088b6b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#a13a10a69c2f044614a3105a593088b6b">this_thread::suspend</a> (void)</td></tr>
<tr class="separator:a13a10a69c2f044614a3105a593088b6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95935cf5eaad0c4b3509049e814f06e7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#a95935cf5eaad0c4b3509049e814f06e7">this_thread::exit</a> (void *exit_ptr)</td></tr>
<tr class="separator:a95935cf5eaad0c4b3509049e814f06e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d29917018290bb0f1de232d56e99a37"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#a5d29917018290bb0f1de232d56e99a37">this_thread::sig_wait</a> (<a class="el" href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">thread::sigset_t</a> mask, <a class="el" href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">thread::sigset_t</a> *oflags, <a class="el" href="namespaceos_1_1rtos_1_1flags.html#a49c1da8337c9d32697fefbdf0412cdac">flags::mode_t</a> mode)</td></tr>
<tr class="separator:a5d29917018290bb0f1de232d56e99a37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfbbd87abf32fe91a087db0d1e6d8640"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#adfbbd87abf32fe91a087db0d1e6d8640">this_thread::try_sig_wait</a> (<a class="el" href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">thread::sigset_t</a> mask, <a class="el" href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">thread::sigset_t</a> *oflags, <a class="el" href="namespaceos_1_1rtos_1_1flags.html#a49c1da8337c9d32697fefbdf0412cdac">flags::mode_t</a> mode)</td></tr>
<tr class="separator:adfbbd87abf32fe91a087db0d1e6d8640"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e8be1409f2bd7e019ef9f4a915b060b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_thread.html#a9e8be1409f2bd7e019ef9f4a915b060b">this_thread::timed_sig_wait</a> (<a class="el" href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">thread::sigset_t</a> mask, <a class="el" href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">thread::sigset_t</a> *oflags, <a class="el" href="namespaceos_1_1rtos.html#aba7f568590671eed574e70d3a38de2df">systicks_t</a> ticks, <a class="el" href="namespaceos_1_1rtos_1_1flags.html#a49c1da8337c9d32697fefbdf0412cdac">flags::mode_t</a> mode)</td></tr>
<tr class="separator:a9e8be1409f2bd7e019ef9f4a915b060b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>POSIX thread. </p>
<p>Supports terminating functions and a simplified version of signal flags.</p>
<p>Compatible with POSIX threads: <a href="http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/pthread.h.html">http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/pthread.h.html</a> </p>

<p>Definition at line <a class="el" href="os_8h_source.html#l00598">598</a> of file <a class="el" href="os_8h_source.html">os.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aa6683ed71435ffac38839854a5a691ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">os::rtos::Thread::Thread </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceos_1_1rtos_1_1thread.html#af6b0d4a09e097f97dbd9766054e8f3aa">thread::func_t</a>&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceos_1_1rtos_1_1thread.html#abbcff6db915a1e4cfaa769d355efd8b5">thread::func_args_t</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new thread with default settings. </p>
<p>Create a new thread, with default attributes.</p>
<p>The thread is created executing function with args as its sole argument. If the start_routine returns, the effect shall be as if there was an implicit call to <a class="el" href="classos_1_1rtos_1_1_thread.html#a8ff00b11ac8009e8c93e4b6622befa64" title="Terminate thread. ">exit()</a> using the return value of function as the exit status. Note that the thread in which <a class="el" href="startup_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main()</a> was originally invoked differs from this. When it returns from <a class="el" href="startup_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main()</a>, the effect shall be as if there was an implicit call to <a class="el" href="classos_1_1rtos_1_1_thread.html#a8ff00b11ac8009e8c93e4b6622befa64" title="Terminate thread. ">exit()</a> using the return value of <a class="el" href="startup_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main()</a> as the exit status.</p>
<p>Compatible with pthread_create(). <a href="http://pubs.opengroup.org/onlinepubs/9699919799/functions/pthread_create.html">http://pubs.opengroup.org/onlinepubs/9699919799/functions/pthread_create.html</a></p>
<dl class="section warning"><dt>Warning</dt><dd>Cannot be invoked from Interrupt Service Routines. </dd></dl>

<p>Definition at line <a class="el" href="os-thread_8cpp_source.html#l00177">177</a> of file <a class="el" href="os-thread_8cpp_source.html">os-thread.cpp</a>.</p>

<p>References <a class="el" href="os-thread_8cpp_source.html#l00114">os::rtos::thread::initializer</a>.</p>
<div class="fragment"><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                                                                 :</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <a class="code" href="classos_1_1rtos_1_1_thread.html#aa6683ed71435ffac38839854a5a691ca">Thread</a></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;          { <a class="code" href="namespaceos_1_1rtos_1_1thread.html#a7eabec0905b196a09d3431e942eb5d49">thread::initializer</a>, <span class="keyword">function</span>, <a class="code" href="os-main_8cpp.html#abfe3b8fa544fc06e643907094461f4ec">args</a> }</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    {</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      ;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    }</div><div class="ttc" id="classos_1_1rtos_1_1_thread_html_aa6683ed71435ffac38839854a5a691ca"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#aa6683ed71435ffac38839854a5a691ca">os::rtos::Thread::Thread</a></div><div class="ttdeci">Thread(thread::func_t function, thread::func_args_t args)</div><div class="ttdoc">Create a new thread with default settings. </div><div class="ttdef"><b>Definition:</b> <a href="os-thread_8cpp_source.html#l00177">os-thread.cpp:177</a></div></div>
<div class="ttc" id="namespaceos_1_1rtos_1_1thread_html_a7eabec0905b196a09d3431e942eb5d49"><div class="ttname"><a href="namespaceos_1_1rtos_1_1thread.html#a7eabec0905b196a09d3431e942eb5d49">os::rtos::thread::initializer</a></div><div class="ttdeci">const Attributes initializer</div><div class="ttdef"><b>Definition:</b> <a href="os-thread_8cpp_source.html#l00114">os-thread.cpp:114</a></div></div>
<div class="ttc" id="os-main_8cpp_html_abfe3b8fa544fc06e643907094461f4ec"><div class="ttname"><a href="os-main_8cpp.html#abfe3b8fa544fc06e643907094461f4ec">args</a></div><div class="ttdeci">static thread::main_args_t args</div><div class="ttdef"><b>Definition:</b> <a href="os-main_8cpp_source.html#l00072">os-main.cpp:72</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a185c3b179549258d701da7ae7360fe66"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">os::rtos::Thread::Thread </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classos_1_1rtos_1_1thread_1_1_attributes.html">thread::Attributes</a> &amp;&#160;</td>
          <td class="paramname"><em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceos_1_1rtos_1_1thread.html#af6b0d4a09e097f97dbd9766054e8f3aa">thread::func_t</a>&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceos_1_1rtos_1_1thread.html#abbcff6db915a1e4cfaa769d355efd8b5">thread::func_args_t</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new thread with custom settings. </p>
<p>Create a new thread, with attributes specified by attr. If attr is NULL, the default attributes shall be used. If the attributes specified by attr are modified later, the thread's attributes shall not be affected.</p>
<p>The thread is created executing function with args as its sole argument. If the start_routine returns, the effect shall be as if there was an implicit call to <a class="el" href="classos_1_1rtos_1_1_thread.html#a8ff00b11ac8009e8c93e4b6622befa64" title="Terminate thread. ">exit()</a> using the return value of function as the exit status. Note that the thread in which <a class="el" href="startup_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main()</a> was originally invoked differs from this. When it returns from <a class="el" href="startup_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main()</a>, the effect shall be as if there was an implicit call to <a class="el" href="classos_1_1rtos_1_1_thread.html#a8ff00b11ac8009e8c93e4b6622befa64" title="Terminate thread. ">exit()</a> using the return value of <a class="el" href="startup_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main()</a> as the exit status.</p>
<p>Compatible with pthread_create(). <a href="http://pubs.opengroup.org/onlinepubs/9699919799/functions/pthread_create.html">http://pubs.opengroup.org/onlinepubs/9699919799/functions/pthread_create.html</a></p>
<dl class="section warning"><dt>Warning</dt><dd>Cannot be invoked from Interrupt Service Routines. </dd></dl>

<p>Definition at line <a class="el" href="os-thread_8cpp_source.html#l00206">206</a> of file <a class="el" href="os-thread_8cpp_source.html">os-thread.cpp</a>.</p>

<p>References <a class="el" href="os-main_8cpp_source.html#l00072">args</a>, <a class="el" href="os-main_8cpp_source.html#l00084">attr</a>, <a class="el" href="os_8h_source.html#l00831">func_</a>, <a class="el" href="os_8h_source.html#l00832">func_args_</a>, <a class="el" href="os-core_8cpp_source.html#l00068">os::rtos::scheduler::in_handler_mode()</a>, <a class="el" href="os_8h_source.html#l00841">joiner_</a>, <a class="el" href="os_8h_source.html#l02531">os::rtos::Named_object::name()</a>, <a class="el" href="os_8h_source.html#l00359">os::rtos::thread::priority::none</a>, <a class="el" href="os_8h_source.html#l03039">os_assert_throw</a>, <a class="el" href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">os::trace::printf()</a>, <a class="el" href="os_8h_source.html#l00845">prio_</a>, <a class="el" href="os_8h_source.html#l00844">sched_state_</a>, <a class="el" href="os_8h_source.html#l00850">sig_mask_</a>, <a class="el" href="os_8h_source.html#l00830">stack_addr_</a>, <a class="el" href="os_8h_source.html#l00843">stack_size_bytes_</a>, and <a class="el" href="os-thread_8cpp_source.html#l00087">os::rtos::this_thread::yield()</a>.</p>
<div class="fragment"><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                                            :</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <a class="code" href="classos_1_1rtos_1_1_named__object.html#a1af2fd6d40c45916ecbb2713e39bf7da">Named_object</a></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;          { <a class="code" href="os-main_8cpp.html#afa497dd39af40726a08466395f5bb084">attr</a>.name () }</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    {</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      <a class="code" href="os_8h.html#a7ca7d74dfe5c184cdd627cc958564137">os_assert_throw</a>(!<a class="code" href="namespaceos_1_1rtos_1_1scheduler.html#a72474ad9ad219abeb13fb3ed0b95a8b3">scheduler::in_handler_mode</a> (), EPERM);</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      assert(<span class="keyword">function</span> != <span class="keyword">nullptr</span>);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      assert(<a class="code" href="os-main_8cpp.html#afa497dd39af40726a08466395f5bb084">attr</a>.th_priority != <a class="code" href="namespaceos_1_1rtos_1_1thread_1_1priority.html#ae5d3cbe95bd71d0a7fd8e77bfa710154abe1def6f8adb29967a162872655593ae">thread::priority::none</a>);</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      <span class="comment">// Prevent the new thread to execute before all members are set.</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      scheduler::Critical_section cs; <span class="comment">// ----- Critical section -----</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      <span class="comment">// Get attributes from user structure.</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      <a class="code" href="classos_1_1rtos_1_1_thread.html#acb6b86867c6dcc9e2e0cc088e365b9fe">prio_</a> = <a class="code" href="os-main_8cpp.html#afa497dd39af40726a08466395f5bb084">attr</a>.th_priority;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      <a class="code" href="classos_1_1rtos_1_1_thread.html#a271099ccd0fa842d067aa89e2fd5a732">stack_size_bytes_</a> = <a class="code" href="os-main_8cpp.html#afa497dd39af40726a08466395f5bb084">attr</a>.th_stack_size_bytes;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      <a class="code" href="classos_1_1rtos_1_1_thread.html#a6bbc905123b44c33b53e8e1e25978218">stack_addr_</a> = <a class="code" href="os-main_8cpp.html#afa497dd39af40726a08466395f5bb084">attr</a>.th_stack_address;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      <a class="code" href="classos_1_1rtos_1_1_thread.html#a78533ffaf052b92a45e131f9e22b95fe">func_</a> = <span class="keyword">function</span>;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      <a class="code" href="classos_1_1rtos_1_1_thread.html#a221bef067614777aaf4815d713edde10">func_args_</a> = <a class="code" href="os-main_8cpp.html#abfe3b8fa544fc06e643907094461f4ec">args</a>;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;      <a class="code" href="classos_1_1rtos_1_1_thread.html#ab36f37b895c94f45cac841c00e9f5722">sig_mask_</a> = 0;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;      <a class="code" href="classos_1_1rtos_1_1_thread.html#ae309b8779ce2d831369fd545dd269882">joiner_</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      <a class="code" href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">trace::printf</a> (<span class="stringliteral">&quot;%s @%p %s %d %d\n&quot;</span>, __func__, <span class="keyword">this</span>, <a class="code" href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">name</a> (), <a class="code" href="classos_1_1rtos_1_1_thread.html#acb6b86867c6dcc9e2e0cc088e365b9fe">prio_</a>,</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                     <a class="code" href="classos_1_1rtos_1_1_thread.html#a271099ccd0fa842d067aa89e2fd5a732">stack_size_bytes_</a>);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="preprocessor">#if defined(OS_INCLUDE_PORT_RTOS_THREAD)</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      port::Thread::create (<span class="keyword">this</span>);</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      <a class="code" href="classos_1_1rtos_1_1_thread.html#a5b767f10a973eb5640852b7e12ccd4e1">sched_state_</a> = thread::state::ready;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      <span class="comment">// TODO: check min size</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      <span class="comment">// TODO: align stack</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classos_1_1rtos_1_1_thread.html#a6bbc905123b44c33b53e8e1e25978218">stack_addr_</a> == <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        {</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;          <span class="comment">// TODO: alloc default stack size</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        }</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      state_ = thread::state::inactive;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      scheduler::__register_thread (<span class="keyword">this</span>);</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      <a class="code" href="namespaceos_1_1rtos_1_1this__thread.html#a6d6b2df07994ab81b2435596a93bbdb6">this_thread::yield</a> ();</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    }</div><div class="ttc" id="namespaceos_1_1rtos_1_1this__thread_html_a6d6b2df07994ab81b2435596a93bbdb6"><div class="ttname"><a href="namespaceos_1_1rtos_1_1this__thread.html#a6d6b2df07994ab81b2435596a93bbdb6">os::rtos::this_thread::yield</a></div><div class="ttdeci">void yield(void)</div><div class="ttdoc">Yield CPU. </div><div class="ttdef"><b>Definition:</b> <a href="os-thread_8cpp_source.html#l00087">os-thread.cpp:87</a></div></div>
<div class="ttc" id="namespaceos_1_1rtos_1_1thread_1_1priority_html_ae5d3cbe95bd71d0a7fd8e77bfa710154abe1def6f8adb29967a162872655593ae"><div class="ttname"><a href="namespaceos_1_1rtos_1_1thread_1_1priority.html#ae5d3cbe95bd71d0a7fd8e77bfa710154abe1def6f8adb29967a162872655593ae">os::rtos::thread::priority::none</a></div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00359">os.h:359</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_named__object_html_a1ced578ffc847e14547b02ee1473c44e"><div class="ttname"><a href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">os::rtos::Named_object::name</a></div><div class="ttdeci">const char * name(void) const </div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l02531">os.h:2531</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_thread_html_ae309b8779ce2d831369fd545dd269882"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#ae309b8779ce2d831369fd545dd269882">os::rtos::Thread::joiner_</a></div><div class="ttdeci">Thread * joiner_</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00841">os.h:841</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_thread_html_acb6b86867c6dcc9e2e0cc088e365b9fe"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#acb6b86867c6dcc9e2e0cc088e365b9fe">os::rtos::Thread::prio_</a></div><div class="ttdeci">thread::priority_t prio_</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00845">os.h:845</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_thread_html_a221bef067614777aaf4815d713edde10"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#a221bef067614777aaf4815d713edde10">os::rtos::Thread::func_args_</a></div><div class="ttdeci">thread::func_args_t func_args_</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00832">os.h:832</a></div></div>
<div class="ttc" id="os-main_8cpp_html_abfe3b8fa544fc06e643907094461f4ec"><div class="ttname"><a href="os-main_8cpp.html#abfe3b8fa544fc06e643907094461f4ec">args</a></div><div class="ttdeci">static thread::main_args_t args</div><div class="ttdef"><b>Definition:</b> <a href="os-main_8cpp_source.html#l00072">os-main.cpp:72</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_thread_html_ab36f37b895c94f45cac841c00e9f5722"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#ab36f37b895c94f45cac841c00e9f5722">os::rtos::Thread::sig_mask_</a></div><div class="ttdeci">thread::sigset_t sig_mask_</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00850">os.h:850</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_thread_html_a78533ffaf052b92a45e131f9e22b95fe"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#a78533ffaf052b92a45e131f9e22b95fe">os::rtos::Thread::func_</a></div><div class="ttdeci">thread::func_t func_</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00831">os.h:831</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_thread_html_a5b767f10a973eb5640852b7e12ccd4e1"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#a5b767f10a973eb5640852b7e12ccd4e1">os::rtos::Thread::sched_state_</a></div><div class="ttdeci">thread::state_t sched_state_</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00844">os.h:844</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_named__object_html_a1af2fd6d40c45916ecbb2713e39bf7da"><div class="ttname"><a href="classos_1_1rtos_1_1_named__object.html#a1af2fd6d40c45916ecbb2713e39bf7da">os::rtos::Named_object::Named_object</a></div><div class="ttdeci">Named_object(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="os-core_8cpp_source.html#l00175">os-core.cpp:175</a></div></div>
<div class="ttc" id="os-main_8cpp_html_afa497dd39af40726a08466395f5bb084"><div class="ttname"><a href="os-main_8cpp.html#afa497dd39af40726a08466395f5bb084">attr</a></div><div class="ttdeci">static thread::Attributes attr</div><div class="ttdef"><b>Definition:</b> <a href="os-main_8cpp_source.html#l00084">os-main.cpp:84</a></div></div>
<div class="ttc" id="os_8h_html_a7ca7d74dfe5c184cdd627cc958564137"><div class="ttname"><a href="os_8h.html#a7ca7d74dfe5c184cdd627cc958564137">os_assert_throw</a></div><div class="ttdeci">#define os_assert_throw(__e, __er)</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l03039">os.h:3039</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_thread_html_a6bbc905123b44c33b53e8e1e25978218"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#a6bbc905123b44c33b53e8e1e25978218">os::rtos::Thread::stack_addr_</a></div><div class="ttdeci">void * stack_addr_</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00830">os.h:830</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_thread_html_a271099ccd0fa842d067aa89e2fd5a732"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#a271099ccd0fa842d067aa89e2fd5a732">os::rtos::Thread::stack_size_bytes_</a></div><div class="ttdeci">std::size_t stack_size_bytes_</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00843">os.h:843</a></div></div>
<div class="ttc" id="namespaceos_1_1rtos_1_1scheduler_html_a72474ad9ad219abeb13fb3ed0b95a8b3"><div class="ttname"><a href="namespaceos_1_1rtos_1_1scheduler.html#a72474ad9ad219abeb13fb3ed0b95a8b3">os::rtos::scheduler::in_handler_mode</a></div><div class="ttdeci">bool in_handler_mode(void)</div><div class="ttdoc">Check if in handler mode. </div><div class="ttdef"><b>Definition:</b> <a href="os-core_8cpp_source.html#l00068">os-core.cpp:68</a></div></div>
<div class="ttc" id="namespaceos_1_1trace_html_ab99139b69af4fe6f063b4a236133b2ee"><div class="ttname"><a href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">os::trace::printf</a></div><div class="ttdeci">int printf(const char *format,...)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a67ff2c1cae34bc12239034198bf9691a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">os::rtos::Thread::Thread </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classos_1_1rtos_1_1_thread.html">Thread</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a245ae49afc6d978b093eb82e314810a1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">os::rtos::Thread::Thread </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classos_1_1rtos_1_1_thread.html">Thread</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a99060f503fc271b572eb4ae799b0e34a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">os::rtos::Thread::~Thread </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section warning"><dt>Warning</dt><dd>Cannot be invoked from Interrupt Service Routines. </dd></dl>

<p>Definition at line <a class="el" href="os-thread_8cpp_source.html#l00261">261</a> of file <a class="el" href="os-thread_8cpp_source.html">os-thread.cpp</a>.</p>

<p>References <a class="el" href="os-thread_8cpp_source.html#l00267">_destroy()</a>.</p>
<div class="fragment"><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    {</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      <a class="code" href="classos_1_1rtos_1_1_thread.html#af7cc69f15755c7cf0cf98314ab6e5901">_destroy</a> ();</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    }</div><div class="ttc" id="classos_1_1rtos_1_1_thread_html_af7cc69f15755c7cf0cf98314ab6e5901"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#af7cc69f15755c7cf0cf98314ab6e5901">os::rtos::Thread::_destroy</a></div><div class="ttdeci">void _destroy(void)</div><div class="ttdef"><b>Definition:</b> <a href="os-thread_8cpp_source.html#l00267">os-thread.cpp:267</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="af7cc69f15755c7cf0cf98314ab6e5901"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void os::rtos::Thread::_destroy </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The actual destructor, also called from <a class="el" href="classos_1_1rtos_1_1_thread.html#a8ff00b11ac8009e8c93e4b6622befa64" title="Terminate thread. ">exit()</a> and <a class="el" href="classos_1_1rtos_1_1_thread.html#aac3754078e72a953ec8f5ecda951a2ef" title="Force thread termination. ">kill()</a>. </p>

<p>Definition at line <a class="el" href="os-thread_8cpp_source.html#l00267">267</a> of file <a class="el" href="os-thread_8cpp_source.html">os-thread.cpp</a>.</p>

<p>References <a class="el" href="os_8h_source.html#l02531">os::rtos::Named_object::name()</a>, <a class="el" href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">os::trace::printf()</a>, and <a class="el" href="os_8h_source.html#l00844">sched_state_</a>.</p>

<p>Referenced by <a class="el" href="os-thread_8cpp_source.html#l00580">exit()</a>, <a class="el" href="os-thread_8cpp_source.html#l00611">kill()</a>, and <a class="el" href="os-thread_8cpp_source.html#l00261">~Thread()</a>.</p>
<div class="fragment"><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    {</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classos_1_1rtos_1_1_thread.html#a5b767f10a973eb5640852b7e12ccd4e1">sched_state_</a> == thread::state::destroyed)</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        {</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;          <span class="keywordflow">return</span>;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        }</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      <a class="code" href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">trace::printf</a> (<span class="stringliteral">&quot;%s() @%p %s\n&quot;</span>, __func__, <span class="keyword">this</span>, <a class="code" href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">name</a> ());</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      <a class="code" href="classos_1_1rtos_1_1_thread.html#a5b767f10a973eb5640852b7e12ccd4e1">sched_state_</a> = thread::state::destroyed;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="preprocessor">#if defined(OS_INCLUDE_PORT_RTOS_THREAD)</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      port::Thread::destroy (<span class="keyword">this</span>);</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      <span class="comment">// Does not return if the current thread.</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;      <span class="comment">// TODO</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      scheduler::__unregister_thread (<span class="keyword">this</span>);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    }</div><div class="ttc" id="classos_1_1rtos_1_1_named__object_html_a1ced578ffc847e14547b02ee1473c44e"><div class="ttname"><a href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">os::rtos::Named_object::name</a></div><div class="ttdeci">const char * name(void) const </div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l02531">os.h:2531</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_thread_html_a5b767f10a973eb5640852b7e12ccd4e1"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#a5b767f10a973eb5640852b7e12ccd4e1">os::rtos::Thread::sched_state_</a></div><div class="ttdeci">thread::state_t sched_state_</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00844">os.h:844</a></div></div>
<div class="ttc" id="namespaceos_1_1trace_html_ab99139b69af4fe6f063b4a236133b2ee"><div class="ttname"><a href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">os::trace::printf</a></div><div class="ttdeci">int printf(const char *format,...)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aeffe0f65c42f83b02dc16ff3dd0bd33a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void os::rtos::Thread::_invoke_with_exit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classos_1_1rtos_1_1_thread.html">Thread</a> *&#160;</td>
          <td class="paramname"><em>thread</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Invoke terminating thread function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">thread</td><td>The static <code>this</code>.</td></tr>
  </table>
  </dd>
</dl>
<p>Same as in POSIX, thread functions can return, and the behaviour should be as the thread called the <a class="el" href="classos_1_1rtos_1_1_thread.html#a8ff00b11ac8009e8c93e4b6622befa64" title="Terminate thread. ">exit()</a> function.</p>
<p>This requires a proxy to run the thread function, get the result, and explicitly invoke <a class="el" href="classos_1_1rtos_1_1_thread.html#a8ff00b11ac8009e8c93e4b6622befa64" title="Terminate thread. ">exit()</a>. </p>

<p>Definition at line <a class="el" href="os-thread_8cpp_source.html#l00152">152</a> of file <a class="el" href="os-thread_8cpp_source.html">os-thread.cpp</a>.</p>

<p>References <a class="el" href="os-thread_8cpp_source.html#l00580">exit()</a>, <a class="el" href="os_8h_source.html#l00831">func_</a>, <a class="el" href="os_8h_source.html#l00832">func_args_</a>, <a class="el" href="os_8h_source.html#l02531">os::rtos::Named_object::name()</a>, and <a class="el" href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">os::trace::printf()</a>.</p>
<div class="fragment"><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    {</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      <a class="code" href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">trace::printf</a> (<span class="stringliteral">&quot;%s @%p %s\n&quot;</span>, __func__, <a class="code" href="namespaceos_1_1rtos_1_1this__thread.html#a527cca157e8ac579442f34a1a88589c9">thread</a>, <a class="code" href="namespaceos_1_1rtos_1_1this__thread.html#a527cca157e8ac579442f34a1a88589c9">thread</a>-&gt;<a class="code" href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">name</a> ());</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      <a class="code" href="namespaceos_1_1rtos_1_1this__thread.html#a527cca157e8ac579442f34a1a88589c9">thread</a>-&gt;<a class="code" href="classos_1_1rtos_1_1_thread.html#a8ff00b11ac8009e8c93e4b6622befa64">exit</a> (<a class="code" href="namespaceos_1_1rtos_1_1this__thread.html#a527cca157e8ac579442f34a1a88589c9">thread</a>-&gt;<a class="code" href="classos_1_1rtos_1_1_thread.html#a78533ffaf052b92a45e131f9e22b95fe">func_</a> (<a class="code" href="namespaceos_1_1rtos_1_1this__thread.html#a527cca157e8ac579442f34a1a88589c9">thread</a>-&gt;<a class="code" href="classos_1_1rtos_1_1_thread.html#a221bef067614777aaf4815d713edde10">func_args_</a>));</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    }</div><div class="ttc" id="classos_1_1rtos_1_1_thread_html_a8ff00b11ac8009e8c93e4b6622befa64"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#a8ff00b11ac8009e8c93e4b6622befa64">os::rtos::Thread::exit</a></div><div class="ttdeci">void exit(void *exit_ptr=nullptr)</div><div class="ttdoc">Terminate thread. </div><div class="ttdef"><b>Definition:</b> <a href="os-thread_8cpp_source.html#l00580">os-thread.cpp:580</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_named__object_html_a1ced578ffc847e14547b02ee1473c44e"><div class="ttname"><a href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">os::rtos::Named_object::name</a></div><div class="ttdeci">const char * name(void) const </div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l02531">os.h:2531</a></div></div>
<div class="ttc" id="namespaceos_1_1rtos_1_1this__thread_html_a527cca157e8ac579442f34a1a88589c9"><div class="ttname"><a href="namespaceos_1_1rtos_1_1this__thread.html#a527cca157e8ac579442f34a1a88589c9">os::rtos::this_thread::thread</a></div><div class="ttdeci">Thread &amp; thread(void)</div><div class="ttdoc">Get current thread. </div><div class="ttdef"><b>Definition:</b> <a href="os-thread_8cpp_source.html#l00065">os-thread.cpp:65</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_thread_html_a221bef067614777aaf4815d713edde10"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#a221bef067614777aaf4815d713edde10">os::rtos::Thread::func_args_</a></div><div class="ttdeci">thread::func_args_t func_args_</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00832">os.h:832</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_thread_html_a78533ffaf052b92a45e131f9e22b95fe"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#a78533ffaf052b92a45e131f9e22b95fe">os::rtos::Thread::func_</a></div><div class="ttdeci">thread::func_t func_</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00831">os.h:831</a></div></div>
<div class="ttc" id="namespaceos_1_1trace_html_ab99139b69af4fe6f063b4a236133b2ee"><div class="ttname"><a href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">os::trace::printf</a></div><div class="ttdeci">int printf(const char *format,...)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a16553b693dc0aab46b9cd8812bb509dc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a> os::rtos::Thread::_try_wait </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">thread::sigset_t</a>&#160;</td>
          <td class="paramname"><em>mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">thread::sigset_t</a> *&#160;</td>
          <td class="paramname"><em>oflags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceos_1_1rtos_1_1flags.html#a49c1da8337c9d32697fefbdf0412cdac">flags::mode_t</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Internal function used to test if the desired signal flags are raised. </p>

<p>Definition at line <a class="el" href="os-thread_8cpp_source.html#l00736">736</a> of file <a class="el" href="os-thread_8cpp_source.html">os-thread.cpp</a>.</p>

<p>References <a class="el" href="os_8h_source.html#l00333">os::rtos::flags::mode::all</a>, <a class="el" href="os_8h_source.html#l00334">os::rtos::flags::mode::any</a>, <a class="el" href="os_8h_source.html#l00101">os::rtos::result::ok</a>, and <a class="el" href="os_8h_source.html#l00850">sig_mask_</a>.</p>

<p>Referenced by <a class="el" href="os-thread_8cpp_source.html#l00794">sig_wait()</a>, <a class="el" href="os-thread_8cpp_source.html#l00887">timed_sig_wait()</a>, and <a class="el" href="os-thread_8cpp_source.html#l00841">try_sig_wait()</a>.</p>
<div class="fragment"><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    {</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;      <span class="keywordflow">if</span> ((mask != 0) &amp;&amp; ((mode &amp; <a class="code" href="namespaceos_1_1rtos_1_1flags_1_1mode.html#a281c59461b101136f3907463bd025e63a0efea2cf0731279e9b4aa341820582a2">flags::mode::all</a>) != 0))</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        {</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;          <span class="comment">// Only if all desires signals are raised we&#39;re done.</span></div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;          <span class="keywordflow">if</span> ((<a class="code" href="classos_1_1rtos_1_1_thread.html#ab36f37b895c94f45cac841c00e9f5722">sig_mask_</a> &amp; mask) == mask)</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;            {</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;              <span class="keywordflow">if</span> (oflags != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;                {</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;                  *oflags = <a class="code" href="classos_1_1rtos_1_1_thread.html#ab36f37b895c94f45cac841c00e9f5722">sig_mask_</a>;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                }</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;              <span class="comment">// Clear desired signals.</span></div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;              <a class="code" href="classos_1_1rtos_1_1_thread.html#ab36f37b895c94f45cac841c00e9f5722">sig_mask_</a> &amp;= ~mask;</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;              <span class="keywordflow">return</span> <a class="code" href="namespaceos_1_1rtos_1_1result.html#a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b">result::ok</a>;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;            }</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        }</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((mask == 0) || ((mode &amp; <a class="code" href="namespaceos_1_1rtos_1_1flags_1_1mode.html#a281c59461b101136f3907463bd025e63ab708645ba400c7eaa8a0a22a25322339">flags::mode::any</a>) != 0))</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;        {</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;          <span class="comment">// Any signal will do it.</span></div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classos_1_1rtos_1_1_thread.html#ab36f37b895c94f45cac841c00e9f5722">sig_mask_</a> != 0)</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;            {</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;              <span class="comment">// Possibly return .</span></div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;              <span class="keywordflow">if</span> (oflags != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                {</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                  *oflags = <a class="code" href="classos_1_1rtos_1_1_thread.html#ab36f37b895c94f45cac841c00e9f5722">sig_mask_</a>;</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;                }</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;              <span class="comment">// Since we returned them all, also clear them all.</span></div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;              <a class="code" href="classos_1_1rtos_1_1_thread.html#ab36f37b895c94f45cac841c00e9f5722">sig_mask_</a> = 0;</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;              <span class="keywordflow">return</span> <a class="code" href="namespaceos_1_1rtos_1_1result.html#a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b">result::ok</a>;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;            }</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;        }</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;      <span class="keywordflow">return</span> EAGAIN;</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    }</div><div class="ttc" id="namespaceos_1_1rtos_1_1flags_1_1mode_html_a281c59461b101136f3907463bd025e63a0efea2cf0731279e9b4aa341820582a2"><div class="ttname"><a href="namespaceos_1_1rtos_1_1flags_1_1mode.html#a281c59461b101136f3907463bd025e63a0efea2cf0731279e9b4aa341820582a2">os::rtos::flags::mode::all</a></div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00333">os.h:333</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_thread_html_ab36f37b895c94f45cac841c00e9f5722"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#ab36f37b895c94f45cac841c00e9f5722">os::rtos::Thread::sig_mask_</a></div><div class="ttdeci">thread::sigset_t sig_mask_</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00850">os.h:850</a></div></div>
<div class="ttc" id="namespaceos_1_1rtos_1_1result_html_a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b"><div class="ttname"><a href="namespaceos_1_1rtos_1_1result.html#a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b">os::rtos::result::ok</a></div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00101">os.h:101</a></div></div>
<div class="ttc" id="namespaceos_1_1rtos_1_1flags_1_1mode_html_a281c59461b101136f3907463bd025e63ab708645ba400c7eaa8a0a22a25322339"><div class="ttname"><a href="namespaceos_1_1rtos_1_1flags_1_1mode.html#a281c59461b101136f3907463bd025e63ab708645ba400c7eaa8a0a22a25322339">os::rtos::flags::mode::any</a></div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00334">os.h:334</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a69f3db9508cbf4faae64628eb0766ef8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a> os::rtos::Thread::cancel </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancel thread execution. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">result::ok.</td><td></td></tr>
    <tr><td class="paramname">EPERM</td><td>Cannot be invoked from an Interrupt Service Routine.</td></tr>
  </table>
  </dd>
</dl>
<p>pthread_cancel() <a href="http://pubs.opengroup.org/onlinepubs/9699919799/functions/pthread_cancel.html">http://pubs.opengroup.org/onlinepubs/9699919799/functions/pthread_cancel.html</a></p>
<p>The <a class="el" href="classos_1_1rtos_1_1_thread.html#a69f3db9508cbf4faae64628eb0766ef8" title="Cancel thread execution. ">cancel()</a> function shall not return an error code of [EINTR]. If an implementation detects use of a thread ID after the end of its lifetime, it is recommended that the function should fail and report an [ESRCH] error. error number is returned.</p>
<dl class="section warning"><dt>Warning</dt><dd>Cannot be invoked from Interrupt Service Routines. </dd></dl>

<p>Definition at line <a class="el" href="os-thread_8cpp_source.html#l00528">528</a> of file <a class="el" href="os-thread_8cpp_source.html">os-thread.cpp</a>.</p>

<p>References <a class="el" href="os-core_8cpp_source.html#l00068">os::rtos::scheduler::in_handler_mode()</a>, <a class="el" href="os_8h_source.html#l02531">os::rtos::Named_object::name()</a>, <a class="el" href="os_8h_source.html#l00101">os::rtos::result::ok</a>, <a class="el" href="os_8h_source.html#l03032">os_assert_err</a>, and <a class="el" href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">os::trace::printf()</a>.</p>
<div class="fragment"><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    {</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;      <a class="code" href="os_8h.html#ae9cede0de19446e3a5eb930b6b10dd39">os_assert_err</a>(!<a class="code" href="namespaceos_1_1rtos_1_1scheduler.html#a72474ad9ad219abeb13fb3ed0b95a8b3">scheduler::in_handler_mode</a> (), EPERM);</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;      <a class="code" href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">trace::printf</a> (<span class="stringliteral">&quot;%s() @%p %s\n&quot;</span>, __func__, <span class="keyword">this</span>, <a class="code" href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">name</a> ());</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;      <span class="comment">// TODO</span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespaceos_1_1rtos_1_1result.html#a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b">result::ok</a>;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    }</div><div class="ttc" id="os_8h_html_ae9cede0de19446e3a5eb930b6b10dd39"><div class="ttname"><a href="os_8h.html#ae9cede0de19446e3a5eb930b6b10dd39">os_assert_err</a></div><div class="ttdeci">#define os_assert_err(__e, __er)</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l03032">os.h:3032</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_named__object_html_a1ced578ffc847e14547b02ee1473c44e"><div class="ttname"><a href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">os::rtos::Named_object::name</a></div><div class="ttdeci">const char * name(void) const </div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l02531">os.h:2531</a></div></div>
<div class="ttc" id="namespaceos_1_1rtos_1_1result_html_a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b"><div class="ttname"><a href="namespaceos_1_1rtos_1_1result.html#a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b">os::rtos::result::ok</a></div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00101">os.h:101</a></div></div>
<div class="ttc" id="namespaceos_1_1rtos_1_1scheduler_html_a72474ad9ad219abeb13fb3ed0b95a8b3"><div class="ttname"><a href="namespaceos_1_1rtos_1_1scheduler.html#a72474ad9ad219abeb13fb3ed0b95a8b3">os::rtos::scheduler::in_handler_mode</a></div><div class="ttdeci">bool in_handler_mode(void)</div><div class="ttdoc">Check if in handler mode. </div><div class="ttdef"><b>Definition:</b> <a href="os-core_8cpp_source.html#l00068">os-core.cpp:68</a></div></div>
<div class="ttc" id="namespaceos_1_1trace_html_ab99139b69af4fe6f063b4a236133b2ee"><div class="ttname"><a href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">os::trace::printf</a></div><div class="ttdeci">int printf(const char *format,...)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac209f38c6d73ec996286c83fc20b668b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a> os::rtos::Thread::detach </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Detach a thread. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">result::ok.</td><td></td></tr>
    <tr><td class="paramname">EPERM</td><td>Cannot be invoked from an Interrupt Service Routine.</td></tr>
  </table>
  </dd>
</dl>
<p>Indicate to the implementation that storage for the thread thread can be reclaimed when that thread terminates. If thread has not terminated, <a class="el" href="classos_1_1rtos_1_1_thread.html#ac209f38c6d73ec996286c83fc20b668b" title="Detach a thread. ">detach()</a> shall not cause it to terminate. The behaviour is undefined if the value specified by the thread argument to <a class="el" href="classos_1_1rtos_1_1_thread.html#ac209f38c6d73ec996286c83fc20b668b" title="Detach a thread. ">detach()</a> does not refer to a joinable thread.</p>
<p>pthread_detach() <a href="http://pubs.opengroup.org/onlinepubs/9699919799/functions/pthread_detach.html">http://pubs.opengroup.org/onlinepubs/9699919799/functions/pthread_detach.html</a></p>
<p>The <a class="el" href="classos_1_1rtos_1_1_thread.html#ac209f38c6d73ec996286c83fc20b668b" title="Detach a thread. ">detach()</a> function shall not return an error code of [EINTR].</p>
<dl class="section warning"><dt>Warning</dt><dd>Cannot be invoked from Interrupt Service Routines. </dd></dl>

<p>Definition at line <a class="el" href="os-thread_8cpp_source.html#l00490">490</a> of file <a class="el" href="os-thread_8cpp_source.html">os-thread.cpp</a>.</p>

<p>References <a class="el" href="os-core_8cpp_source.html#l00068">os::rtos::scheduler::in_handler_mode()</a>, <a class="el" href="os_8h_source.html#l02531">os::rtos::Named_object::name()</a>, <a class="el" href="os_8h_source.html#l00101">os::rtos::result::ok</a>, <a class="el" href="os_8h_source.html#l03032">os_assert_err</a>, and <a class="el" href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">os::trace::printf()</a>.</p>
<div class="fragment"><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    {</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      <a class="code" href="os_8h.html#ae9cede0de19446e3a5eb930b6b10dd39">os_assert_err</a>(!<a class="code" href="namespaceos_1_1rtos_1_1scheduler.html#a72474ad9ad219abeb13fb3ed0b95a8b3">scheduler::in_handler_mode</a> (), EPERM);</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;      <a class="code" href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">trace::printf</a> (<span class="stringliteral">&quot;%s() @%p %s\n&quot;</span>, __func__, <span class="keyword">this</span>, <a class="code" href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">name</a> ());</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="preprocessor">#if defined(OS_INCLUDE_PORT_RTOS_THREAD)</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;      <a class="code" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a> res = port::Thread::detach (<span class="keyword">this</span>);</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;      <span class="keywordflow">if</span> (res != <a class="code" href="namespaceos_1_1rtos_1_1result.html#a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b">result::ok</a>)</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        {</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;          <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        }</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;      <span class="comment">// TODO</span></div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespaceos_1_1rtos_1_1result.html#a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b">result::ok</a>;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    }</div><div class="ttc" id="os_8h_html_ae9cede0de19446e3a5eb930b6b10dd39"><div class="ttname"><a href="os_8h.html#ae9cede0de19446e3a5eb930b6b10dd39">os_assert_err</a></div><div class="ttdeci">#define os_assert_err(__e, __er)</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l03032">os.h:3032</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_named__object_html_a1ced578ffc847e14547b02ee1473c44e"><div class="ttname"><a href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">os::rtos::Named_object::name</a></div><div class="ttdeci">const char * name(void) const </div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l02531">os.h:2531</a></div></div>
<div class="ttc" id="namespaceos_1_1rtos_1_1result_html_a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b"><div class="ttname"><a href="namespaceos_1_1rtos_1_1result.html#a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b">os::rtos::result::ok</a></div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00101">os.h:101</a></div></div>
<div class="ttc" id="namespaceos_1_1rtos_html_a54633089ccffe9e56ce1137ebe57776d"><div class="ttname"><a href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">os::rtos::result_t</a></div><div class="ttdeci">uint32_t result_t</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00090">os.h:90</a></div></div>
<div class="ttc" id="namespaceos_1_1rtos_1_1scheduler_html_a72474ad9ad219abeb13fb3ed0b95a8b3"><div class="ttname"><a href="namespaceos_1_1rtos_1_1scheduler.html#a72474ad9ad219abeb13fb3ed0b95a8b3">os::rtos::scheduler::in_handler_mode</a></div><div class="ttdeci">bool in_handler_mode(void)</div><div class="ttdoc">Check if in handler mode. </div><div class="ttdef"><b>Definition:</b> <a href="os-core_8cpp_source.html#l00068">os-core.cpp:68</a></div></div>
<div class="ttc" id="namespaceos_1_1trace_html_ab99139b69af4fe6f063b4a236133b2ee"><div class="ttname"><a href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">os::trace::printf</a></div><div class="ttdeci">int printf(const char *format,...)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8ff00b11ac8009e8c93e4b6622befa64"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void os::rtos::Thread::exit </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>value_ptr</em> = <code>nullptr</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Terminate thread. </p>
<dl class="section return"><dt>Returns</dt><dd>-</dd></dl>
<p>Terminate the calling thread and make the value value_ptr available to any successful join with the terminating thread. Any cancellation cleanup handlers that have been pushed and not yet popped shall be popped in the reverse order that they were pushed and then executed. After all cancellation cleanup handlers have been executed, if the thread has any thread-specific data, appropriate destructor functions shall be called in an unspecified order. <a class="el" href="classos_1_1rtos_1_1_thread.html" title="POSIX thread. ">Thread</a> termination does not release any application visible process resources, including, but not limited to, mutexes and file descriptors, nor does it perform any process-level cleanup actions, including, but not limited to, calling any atexit() routines that may exist. An implicit call to <a class="el" href="classos_1_1rtos_1_1_thread.html#a8ff00b11ac8009e8c93e4b6622befa64" title="Terminate thread. ">exit()</a> is made when a thread other than the thread in which <a class="el" href="startup_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main()</a> was first invoked returns from the start routine that was used to create it. The function's return value shall serve as the thread's exit status. The behaviour of <a class="el" href="classos_1_1rtos_1_1_thread.html#a8ff00b11ac8009e8c93e4b6622befa64" title="Terminate thread. ">exit()</a> is undefined if called from a cancellation cleanup handler or destructor function that was invoked as a result of either an implicit or explicit call to <a class="el" href="classos_1_1rtos_1_1_thread.html#a8ff00b11ac8009e8c93e4b6622befa64" title="Terminate thread. ">exit()</a>. After a thread has terminated, the result of access to local (auto) variables of the thread is undefined. Thus, references to local variables of the exiting thread should not be used for the <a class="el" href="classos_1_1rtos_1_1_thread.html#a8ff00b11ac8009e8c93e4b6622befa64" title="Terminate thread. ">exit()</a> value_ptr parameter value.</p>
<p>pthread_exit() <a href="http://pubs.opengroup.org/onlinepubs/9699919799/functions/pthread_exit.html">http://pubs.opengroup.org/onlinepubs/9699919799/functions/pthread_exit.html</a></p>
<dl class="section warning"><dt>Warning</dt><dd>Cannot be invoked from Interrupt Service Routines. </dd></dl>

<p>Definition at line <a class="el" href="os-thread_8cpp_source.html#l00580">580</a> of file <a class="el" href="os-thread_8cpp_source.html">os-thread.cpp</a>.</p>

<p>References <a class="el" href="os-thread_8cpp_source.html#l00267">_destroy()</a>, <a class="el" href="os_8h_source.html#l00833">func_result_</a>, <a class="el" href="os-core_8cpp_source.html#l00068">os::rtos::scheduler::in_handler_mode()</a>, <a class="el" href="os_8h_source.html#l00841">joiner_</a>, <a class="el" href="os_8h_source.html#l02531">os::rtos::Named_object::name()</a>, <a class="el" href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">os::trace::printf()</a>, <a class="el" href="os_8h_source.html#l00844">sched_state_</a>, and <a class="el" href="os-thread_8cpp_source.html#l00314">wakeup()</a>.</p>

<p>Referenced by <a class="el" href="os-thread_8cpp_source.html#l00152">_invoke_with_exit()</a>, and <a class="el" href="os_8h_source.html#l02641">os::rtos::this_thread::exit()</a>.</p>
<div class="fragment"><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    {</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;      assert(!<a class="code" href="namespaceos_1_1rtos_1_1scheduler.html#a72474ad9ad219abeb13fb3ed0b95a8b3">scheduler::in_handler_mode</a> ());</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;      <a class="code" href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">trace::printf</a> (<span class="stringliteral">&quot;%s() @%p %s\n&quot;</span>, __func__, <span class="keyword">this</span>, <a class="code" href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">name</a> ());</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classos_1_1rtos_1_1_thread.html#a5b767f10a973eb5640852b7e12ccd4e1">sched_state_</a> == thread::state::terminated)</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        {</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;          <a class="code" href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">trace::printf</a> (<span class="stringliteral">&quot;%s() @%p %s already terminated\n&quot;</span>, __func__, <span class="keyword">this</span>,</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                         <a class="code" href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">name</a> ());</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;          <span class="keywordflow">return</span>; <span class="comment">// Already terminated</span></div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        }</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;      <a class="code" href="classos_1_1rtos_1_1_thread.html#a46b7138eee7bf69fd4785037c696aaa8">func_result_</a> = value_ptr;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;      <a class="code" href="classos_1_1rtos_1_1_thread.html#a5b767f10a973eb5640852b7e12ccd4e1">sched_state_</a> = thread::state::terminated;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classos_1_1rtos_1_1_thread.html#ae309b8779ce2d831369fd545dd269882">joiner_</a> != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        {</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;          <a class="code" href="classos_1_1rtos_1_1_thread.html#ae309b8779ce2d831369fd545dd269882">joiner_</a>-&gt;<a class="code" href="classos_1_1rtos_1_1_thread.html#a36e40610400fba15e445695974cd712e">wakeup</a> ();</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        }</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      <a class="code" href="classos_1_1rtos_1_1_thread.html#af7cc69f15755c7cf0cf98314ab6e5901">_destroy</a> ();</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;      <span class="comment">// Does not return.</span></div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    }</div><div class="ttc" id="classos_1_1rtos_1_1_thread_html_a46b7138eee7bf69fd4785037c696aaa8"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#a46b7138eee7bf69fd4785037c696aaa8">os::rtos::Thread::func_result_</a></div><div class="ttdeci">void * func_result_</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00833">os.h:833</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_thread_html_af7cc69f15755c7cf0cf98314ab6e5901"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#af7cc69f15755c7cf0cf98314ab6e5901">os::rtos::Thread::_destroy</a></div><div class="ttdeci">void _destroy(void)</div><div class="ttdef"><b>Definition:</b> <a href="os-thread_8cpp_source.html#l00267">os-thread.cpp:267</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_named__object_html_a1ced578ffc847e14547b02ee1473c44e"><div class="ttname"><a href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">os::rtos::Named_object::name</a></div><div class="ttdeci">const char * name(void) const </div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l02531">os.h:2531</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_thread_html_ae309b8779ce2d831369fd545dd269882"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#ae309b8779ce2d831369fd545dd269882">os::rtos::Thread::joiner_</a></div><div class="ttdeci">Thread * joiner_</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00841">os.h:841</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_thread_html_a5b767f10a973eb5640852b7e12ccd4e1"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#a5b767f10a973eb5640852b7e12ccd4e1">os::rtos::Thread::sched_state_</a></div><div class="ttdeci">thread::state_t sched_state_</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00844">os.h:844</a></div></div>
<div class="ttc" id="namespaceos_1_1rtos_1_1scheduler_html_a72474ad9ad219abeb13fb3ed0b95a8b3"><div class="ttname"><a href="namespaceos_1_1rtos_1_1scheduler.html#a72474ad9ad219abeb13fb3ed0b95a8b3">os::rtos::scheduler::in_handler_mode</a></div><div class="ttdeci">bool in_handler_mode(void)</div><div class="ttdoc">Check if in handler mode. </div><div class="ttdef"><b>Definition:</b> <a href="os-core_8cpp_source.html#l00068">os-core.cpp:68</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_thread_html_a36e40610400fba15e445695974cd712e"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#a36e40610400fba15e445695974cd712e">os::rtos::Thread::wakeup</a></div><div class="ttdeci">void wakeup(void)</div><div class="ttdoc">Wake-up the thread. </div><div class="ttdef"><b>Definition:</b> <a href="os-thread_8cpp_source.html#l00314">os-thread.cpp:314</a></div></div>
<div class="ttc" id="namespaceos_1_1trace_html_ab99139b69af4fe6f063b4a236133b2ee"><div class="ttname"><a href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">os::trace::printf</a></div><div class="ttdeci">int printf(const char *format,...)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab6749ec40f4efc916b4616ccc1b28658"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void * os::rtos::Thread::function_args </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="os_8h_source.html#l02680">2680</a> of file <a class="el" href="os_8h_source.html">os.h</a>.</p>
<div class="fragment"><div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;    {</div><div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classos_1_1rtos_1_1_thread.html#a221bef067614777aaf4815d713edde10">func_args_</a>;</div><div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;    }</div><div class="ttc" id="classos_1_1rtos_1_1_thread_html_a221bef067614777aaf4815d713edde10"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#a221bef067614777aaf4815d713edde10">os::rtos::Thread::func_args_</a></div><div class="ttdeci">thread::func_args_t func_args_</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00832">os.h:832</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a707ddda84d350fe2371e0095ae5eddad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool os::rtos::Thread::interrupted </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="os-thread_8cpp_source.html#l00539">539</a> of file <a class="el" href="os-thread_8cpp_source.html">os-thread.cpp</a>.</p>

<p>Referenced by <a class="el" href="os-thread_8cpp_source.html#l00794">sig_wait()</a>, <a class="el" href="os-clocks_8cpp_source.html#l00211">os::rtos::Systick_clock::sleep_for()</a>, and <a class="el" href="os-thread_8cpp_source.html#l00887">timed_sig_wait()</a>.</p>
<div class="fragment"><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    {</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a957d4296bd3ba95e3f22b776a8c18518"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a> os::rtos::Thread::join </td>
          <td>(</td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>exit_ptr</em> = <code>nullptr</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait for thread termination. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">result::ok.</td><td></td></tr>
    <tr><td class="paramname">EPERM</td><td>Cannot be invoked from an Interrupt Service Routine.</td></tr>
  </table>
  </dd>
</dl>
<p>Suspend execution of the calling thread until the target thread terminates, unless the target thread has already terminated. On return from a successful <a class="el" href="classos_1_1rtos_1_1_thread.html#a957d4296bd3ba95e3f22b776a8c18518" title="Wait for thread termination. ">join()</a> call with a non-NULL exit_ptr argument, the value passed to <a class="el" href="classos_1_1rtos_1_1_thread.html#a8ff00b11ac8009e8c93e4b6622befa64" title="Terminate thread. ">exit()</a> by the terminating thread shall be made available in the location referenced by exit_ptr. When a <a class="el" href="classos_1_1rtos_1_1_thread.html#a957d4296bd3ba95e3f22b776a8c18518" title="Wait for thread termination. ">join()</a> returns successfully, the target thread has been terminated. The results of multiple simultaneous calls to <a class="el" href="classos_1_1rtos_1_1_thread.html#a957d4296bd3ba95e3f22b776a8c18518" title="Wait for thread termination. ">join()</a> specifying the same target thread are undefined. If the thread calling <a class="el" href="classos_1_1rtos_1_1_thread.html#a957d4296bd3ba95e3f22b776a8c18518" title="Wait for thread termination. ">join()</a> is cancelled, then the target thread shall not be detached.</p>
<p>pthread_join() <a href="http://pubs.opengroup.org/onlinepubs/9699919799/functions/pthread_join.html">http://pubs.opengroup.org/onlinepubs/9699919799/functions/pthread_join.html</a></p>
<p>The <a class="el" href="classos_1_1rtos_1_1_thread.html#a957d4296bd3ba95e3f22b776a8c18518" title="Wait for thread termination. ">join()</a> function may fail if: [EDEADLK] A deadlock was detected.</p>
<p>The <a class="el" href="classos_1_1rtos_1_1_thread.html#a957d4296bd3ba95e3f22b776a8c18518" title="Wait for thread termination. ">join()</a> function shall not return an error code of [EINTR].</p>
<dl class="section warning"><dt>Warning</dt><dd>Cannot be invoked from Interrupt Service Routines. </dd></dl>

<p>Definition at line <a class="el" href="os-thread_8cpp_source.html#l00449">449</a> of file <a class="el" href="os-thread_8cpp_source.html">os-thread.cpp</a>.</p>

<p>References <a class="el" href="os_8h_source.html#l00833">func_result_</a>, <a class="el" href="os-core_8cpp_source.html#l00068">os::rtos::scheduler::in_handler_mode()</a>, <a class="el" href="os_8h_source.html#l00841">joiner_</a>, <a class="el" href="os_8h_source.html#l02531">os::rtos::Named_object::name()</a>, <a class="el" href="os_8h_source.html#l00101">os::rtos::result::ok</a>, <a class="el" href="os_8h_source.html#l03032">os_assert_err</a>, <a class="el" href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">os::trace::printf()</a>, <a class="el" href="os_8h_source.html#l00844">sched_state_</a>, and <a class="el" href="os-thread_8cpp_source.html#l00292">suspend()</a>.</p>
<div class="fragment"><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    {</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;      <a class="code" href="os_8h.html#ae9cede0de19446e3a5eb930b6b10dd39">os_assert_err</a>(!<a class="code" href="namespaceos_1_1rtos_1_1scheduler.html#a72474ad9ad219abeb13fb3ed0b95a8b3">scheduler::in_handler_mode</a> (), EPERM);</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;      <span class="comment">// TODO: Must fail if current thread</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      <a class="code" href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">trace::printf</a> (<span class="stringliteral">&quot;%s() @%p %s\n&quot;</span>, __func__, <span class="keyword">this</span>, <a class="code" href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">name</a> ());</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      <span class="keywordflow">while</span> ((<a class="code" href="classos_1_1rtos_1_1_thread.html#a5b767f10a973eb5640852b7e12ccd4e1">sched_state_</a> != thread::state::terminated)</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;          &amp;&amp; (<a class="code" href="classos_1_1rtos_1_1_thread.html#a5b767f10a973eb5640852b7e12ccd4e1">sched_state_</a> != thread::state::destroyed))</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        {</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;          <a class="code" href="classos_1_1rtos_1_1_thread.html#ae309b8779ce2d831369fd545dd269882">joiner_</a> = <span class="keyword">this</span>;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;          <a class="code" href="classos_1_1rtos_1_1_thread.html#adb62f9d5c8007d0032cd45ddbacab5f5">suspend</a> ();</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        }</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;      <span class="keywordflow">if</span> (exit_ptr != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        {</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;          *exit_ptr = <a class="code" href="classos_1_1rtos_1_1_thread.html#a46b7138eee7bf69fd4785037c696aaa8">func_result_</a>;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        }</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;      <a class="code" href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">trace::printf</a> (<span class="stringliteral">&quot;%s() @%p %s joined\n&quot;</span>, __func__, <span class="keyword">this</span>, <a class="code" href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">name</a> ());</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespaceos_1_1rtos_1_1result.html#a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b">result::ok</a>;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    }</div><div class="ttc" id="os_8h_html_ae9cede0de19446e3a5eb930b6b10dd39"><div class="ttname"><a href="os_8h.html#ae9cede0de19446e3a5eb930b6b10dd39">os_assert_err</a></div><div class="ttdeci">#define os_assert_err(__e, __er)</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l03032">os.h:3032</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_thread_html_a46b7138eee7bf69fd4785037c696aaa8"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#a46b7138eee7bf69fd4785037c696aaa8">os::rtos::Thread::func_result_</a></div><div class="ttdeci">void * func_result_</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00833">os.h:833</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_named__object_html_a1ced578ffc847e14547b02ee1473c44e"><div class="ttname"><a href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">os::rtos::Named_object::name</a></div><div class="ttdeci">const char * name(void) const </div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l02531">os.h:2531</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_thread_html_ae309b8779ce2d831369fd545dd269882"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#ae309b8779ce2d831369fd545dd269882">os::rtos::Thread::joiner_</a></div><div class="ttdeci">Thread * joiner_</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00841">os.h:841</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_thread_html_adb62f9d5c8007d0032cd45ddbacab5f5"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#adb62f9d5c8007d0032cd45ddbacab5f5">os::rtos::Thread::suspend</a></div><div class="ttdeci">void suspend(void)</div><div class="ttdoc">Suspend the current thread. </div><div class="ttdef"><b>Definition:</b> <a href="os-thread_8cpp_source.html#l00292">os-thread.cpp:292</a></div></div>
<div class="ttc" id="namespaceos_1_1rtos_1_1result_html_a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b"><div class="ttname"><a href="namespaceos_1_1rtos_1_1result.html#a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b">os::rtos::result::ok</a></div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00101">os.h:101</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_thread_html_a5b767f10a973eb5640852b7e12ccd4e1"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#a5b767f10a973eb5640852b7e12ccd4e1">os::rtos::Thread::sched_state_</a></div><div class="ttdeci">thread::state_t sched_state_</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00844">os.h:844</a></div></div>
<div class="ttc" id="namespaceos_1_1rtos_1_1scheduler_html_a72474ad9ad219abeb13fb3ed0b95a8b3"><div class="ttname"><a href="namespaceos_1_1rtos_1_1scheduler.html#a72474ad9ad219abeb13fb3ed0b95a8b3">os::rtos::scheduler::in_handler_mode</a></div><div class="ttdeci">bool in_handler_mode(void)</div><div class="ttdoc">Check if in handler mode. </div><div class="ttdef"><b>Definition:</b> <a href="os-core_8cpp_source.html#l00068">os-core.cpp:68</a></div></div>
<div class="ttc" id="namespaceos_1_1trace_html_ab99139b69af4fe6f063b4a236133b2ee"><div class="ttname"><a href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">os::trace::printf</a></div><div class="ttdeci">int printf(const char *format,...)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aac3754078e72a953ec8f5ecda951a2ef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a> os::rtos::Thread::kill </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Force thread termination. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="namespaceos_1_1rtos_1_1result.html#a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b">result::ok</a></td><td>The tread was terminated.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>Cannot be invoked from Interrupt Service Routines. </dd></dl>

<p>Definition at line <a class="el" href="os-thread_8cpp_source.html#l00611">611</a> of file <a class="el" href="os-thread_8cpp_source.html">os-thread.cpp</a>.</p>

<p>References <a class="el" href="os-thread_8cpp_source.html#l00267">_destroy()</a>, <a class="el" href="os_8h_source.html#l00833">func_result_</a>, <a class="el" href="os-core_8cpp_source.html#l00068">os::rtos::scheduler::in_handler_mode()</a>, <a class="el" href="os_8h_source.html#l00841">joiner_</a>, <a class="el" href="os_8h_source.html#l02531">os::rtos::Named_object::name()</a>, <a class="el" href="os_8h_source.html#l00101">os::rtos::result::ok</a>, <a class="el" href="os_8h_source.html#l03032">os_assert_err</a>, <a class="el" href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">os::trace::printf()</a>, <a class="el" href="os_8h_source.html#l00844">sched_state_</a>, and <a class="el" href="os-thread_8cpp_source.html#l00314">wakeup()</a>.</p>
<div class="fragment"><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    {</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;      <a class="code" href="os_8h.html#ae9cede0de19446e3a5eb930b6b10dd39">os_assert_err</a>(!<a class="code" href="namespaceos_1_1rtos_1_1scheduler.html#a72474ad9ad219abeb13fb3ed0b95a8b3">scheduler::in_handler_mode</a> (), EPERM);</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;      <a class="code" href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">trace::printf</a> (<span class="stringliteral">&quot;%s() @%p %s\n&quot;</span>, __func__, <span class="keyword">this</span>, <a class="code" href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">name</a> ());</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;      <span class="keywordflow">if</span> ((<a class="code" href="classos_1_1rtos_1_1_thread.html#a5b767f10a973eb5640852b7e12ccd4e1">sched_state_</a> == thread::state::terminated)</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;          || (<a class="code" href="classos_1_1rtos_1_1_thread.html#a5b767f10a973eb5640852b7e12ccd4e1">sched_state_</a> == thread::state::destroyed))</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        {</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;          <a class="code" href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">trace::printf</a> (<span class="stringliteral">&quot;%s() @%p %s already terminated\n&quot;</span>, __func__, <span class="keyword">this</span>,</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                         <a class="code" href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">name</a> ());</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="namespaceos_1_1rtos_1_1result.html#a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b">result::ok</a>; <span class="comment">// Already terminated</span></div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        }</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;      <a class="code" href="classos_1_1rtos_1_1_thread.html#a46b7138eee7bf69fd4785037c696aaa8">func_result_</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;      <a class="code" href="classos_1_1rtos_1_1_thread.html#a5b767f10a973eb5640852b7e12ccd4e1">sched_state_</a> = thread::state::terminated;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classos_1_1rtos_1_1_thread.html#ae309b8779ce2d831369fd545dd269882">joiner_</a> != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        {</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;          <a class="code" href="classos_1_1rtos_1_1_thread.html#ae309b8779ce2d831369fd545dd269882">joiner_</a>-&gt;<a class="code" href="classos_1_1rtos_1_1_thread.html#a36e40610400fba15e445695974cd712e">wakeup</a> ();</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        }</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;      <a class="code" href="classos_1_1rtos_1_1_thread.html#af7cc69f15755c7cf0cf98314ab6e5901">_destroy</a> ();</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespaceos_1_1rtos_1_1result.html#a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b">result::ok</a>;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    }</div><div class="ttc" id="os_8h_html_ae9cede0de19446e3a5eb930b6b10dd39"><div class="ttname"><a href="os_8h.html#ae9cede0de19446e3a5eb930b6b10dd39">os_assert_err</a></div><div class="ttdeci">#define os_assert_err(__e, __er)</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l03032">os.h:3032</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_thread_html_a46b7138eee7bf69fd4785037c696aaa8"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#a46b7138eee7bf69fd4785037c696aaa8">os::rtos::Thread::func_result_</a></div><div class="ttdeci">void * func_result_</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00833">os.h:833</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_thread_html_af7cc69f15755c7cf0cf98314ab6e5901"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#af7cc69f15755c7cf0cf98314ab6e5901">os::rtos::Thread::_destroy</a></div><div class="ttdeci">void _destroy(void)</div><div class="ttdef"><b>Definition:</b> <a href="os-thread_8cpp_source.html#l00267">os-thread.cpp:267</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_named__object_html_a1ced578ffc847e14547b02ee1473c44e"><div class="ttname"><a href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">os::rtos::Named_object::name</a></div><div class="ttdeci">const char * name(void) const </div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l02531">os.h:2531</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_thread_html_ae309b8779ce2d831369fd545dd269882"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#ae309b8779ce2d831369fd545dd269882">os::rtos::Thread::joiner_</a></div><div class="ttdeci">Thread * joiner_</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00841">os.h:841</a></div></div>
<div class="ttc" id="namespaceos_1_1rtos_1_1result_html_a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b"><div class="ttname"><a href="namespaceos_1_1rtos_1_1result.html#a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b">os::rtos::result::ok</a></div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00101">os.h:101</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_thread_html_a5b767f10a973eb5640852b7e12ccd4e1"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#a5b767f10a973eb5640852b7e12ccd4e1">os::rtos::Thread::sched_state_</a></div><div class="ttdeci">thread::state_t sched_state_</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00844">os.h:844</a></div></div>
<div class="ttc" id="namespaceos_1_1rtos_1_1scheduler_html_a72474ad9ad219abeb13fb3ed0b95a8b3"><div class="ttname"><a href="namespaceos_1_1rtos_1_1scheduler.html#a72474ad9ad219abeb13fb3ed0b95a8b3">os::rtos::scheduler::in_handler_mode</a></div><div class="ttdeci">bool in_handler_mode(void)</div><div class="ttdoc">Check if in handler mode. </div><div class="ttdef"><b>Definition:</b> <a href="os-core_8cpp_source.html#l00068">os-core.cpp:68</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_thread_html_a36e40610400fba15e445695974cd712e"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#a36e40610400fba15e445695974cd712e">os::rtos::Thread::wakeup</a></div><div class="ttdeci">void wakeup(void)</div><div class="ttdoc">Wake-up the thread. </div><div class="ttdef"><b>Definition:</b> <a href="os-thread_8cpp_source.html#l00314">os-thread.cpp:314</a></div></div>
<div class="ttc" id="namespaceos_1_1trace_html_ab99139b69af4fe6f063b4a236133b2ee"><div class="ttname"><a href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">os::trace::printf</a></div><div class="ttdeci">int printf(const char *format,...)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1ced578ffc847e14547b02ee1473c44e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char * os::rtos::Named_object::name </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="os_8h_source.html#l02531">2531</a> of file <a class="el" href="os_8h_source.html">os.h</a>.</p>

<p>Referenced by <a class="el" href="os-thread_8cpp_source.html#l00267">_destroy()</a>, <a class="el" href="os-thread_8cpp_source.html#l00152">_invoke_with_exit()</a>, <a class="el" href="os-mempool_8cpp_source.html#l00153">os::rtos::Memory_pool::alloc()</a>, <a class="el" href="os-thread_8cpp_source.html#l00528">cancel()</a>, <a class="el" href="os-condvar_8cpp_source.html#l00068">os::rtos::Condition_variable::Condition_variable()</a>, <a class="el" href="os-thread_8cpp_source.html#l00490">detach()</a>, <a class="el" href="os-evflags_8cpp_source.html#l00068">os::rtos::Event_flags::Event_flags()</a>, <a class="el" href="os-thread_8cpp_source.html#l00580">exit()</a>, <a class="el" href="os-mempool_8cpp_source.html#l00287">os::rtos::Memory_pool::free()</a>, <a class="el" href="os-thread_8cpp_source.html#l00449">join()</a>, <a class="el" href="os-thread_8cpp_source.html#l00611">kill()</a>, <a class="el" href="os-mempool_8cpp_source.html#l00066">os::rtos::Memory_pool::Memory_pool()</a>, <a class="el" href="os-mqueue_8cpp_source.html#l00063">os::rtos::Message_queue::Message_queue()</a>, <a class="el" href="os-mutex_8cpp_source.html#l00081">os::rtos::Mutex::Mutex()</a>, <a class="el" href="os-semaphore_8cpp_source.html#l00171">os::rtos::Semaphore::post()</a>, <a class="el" href="os-mqueue_8cpp_source.html#l00327">os::rtos::Message_queue::receive()</a>, <a class="el" href="os-mempool_8cpp_source.html#l00328">os::rtos::Memory_pool::reset()</a>, <a class="el" href="os-mqueue_8cpp_source.html#l00484">os::rtos::Message_queue::reset()</a>, <a class="el" href="os-thread_8cpp_source.html#l00357">sched_prio()</a>, <a class="el" href="os-semaphore_8cpp_source.html#l00077">os::rtos::Semaphore::Semaphore()</a>, <a class="el" href="os-mqueue_8cpp_source.html#l00156">os::rtos::Message_queue::send()</a>, <a class="el" href="os-thread_8cpp_source.html#l00710">sig_clear()</a>, <a class="el" href="os-thread_8cpp_source.html#l00679">sig_get()</a>, <a class="el" href="os-thread_8cpp_source.html#l00647">sig_raise()</a>, <a class="el" href="os-thread_8cpp_source.html#l00794">sig_wait()</a>, <a class="el" href="os-thread_8cpp_source.html#l00292">suspend()</a>, <a class="el" href="os-thread_8cpp_source.html#l00206">Thread()</a>, <a class="el" href="os-mempool_8cpp_source.html#l00218">os::rtos::Memory_pool::timed_alloc()</a>, <a class="el" href="os-mqueue_8cpp_source.html#l00445">os::rtos::Message_queue::timed_receive()</a>, <a class="el" href="os-mqueue_8cpp_source.html#l00267">os::rtos::Message_queue::timed_send()</a>, <a class="el" href="os-thread_8cpp_source.html#l00887">timed_sig_wait()</a>, <a class="el" href="os-semaphore_8cpp_source.html#l00333">os::rtos::Semaphore::timed_wait()</a>, <a class="el" href="os-timer_8cpp_source.html#l00070">os::rtos::Timer::Timer()</a>, <a class="el" href="os-mempool_8cpp_source.html#l00201">os::rtos::Memory_pool::try_alloc()</a>, <a class="el" href="os-mqueue_8cpp_source.html#l00376">os::rtos::Message_queue::try_receive()</a>, <a class="el" href="os-mqueue_8cpp_source.html#l00205">os::rtos::Message_queue::try_send()</a>, <a class="el" href="os-thread_8cpp_source.html#l00841">try_sig_wait()</a>, <a class="el" href="os-semaphore_8cpp_source.html#l00280">os::rtos::Semaphore::try_wait()</a>, <a class="el" href="os-semaphore_8cpp_source.html#l00229">os::rtos::Semaphore::wait()</a>, <a class="el" href="os-thread_8cpp_source.html#l00314">wakeup()</a>, <a class="el" href="os-mempool_8cpp_source.html#l00116">os::rtos::Memory_pool::~Memory_pool()</a>, <a class="el" href="os-mqueue_8cpp_source.html#l00106">os::rtos::Message_queue::~Message_queue()</a>, and <a class="el" href="os-semaphore_8cpp_source.html#l00120">os::rtos::Semaphore::~Semaphore()</a>.</p>
<div class="fragment"><div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;    {</div><div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classos_1_1rtos_1_1_named__object.html#a7c6435f5bbc1c2793664672cbf420d70">name_</a>;</div><div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;    }</div><div class="ttc" id="classos_1_1rtos_1_1_named__object_html_a7c6435f5bbc1c2793664672cbf420d70"><div class="ttname"><a href="classos_1_1rtos_1_1_named__object.html#a7c6435f5bbc1c2793664672cbf420d70">os::rtos::Named_object::name_</a></div><div class="ttdeci">const char *const name_</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00529">os.h:529</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1df5ca16c208aa44a8258f4b97d9ce82"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classos_1_1rtos_1_1_thread.html">Thread</a>&amp; os::rtos::Thread::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classos_1_1rtos_1_1_thread.html">Thread</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac9f4e68a5714d0d93d326c6a15d36bce"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classos_1_1rtos_1_1_thread.html">Thread</a>&amp; os::rtos::Thread::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classos_1_1rtos_1_1_thread.html">Thread</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a13c4ed95ff23cdf8c05f8512b8e3f1db"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool os::rtos::Thread::operator== </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classos_1_1rtos_1_1_thread.html">Thread</a> &amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compare threads. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>The given thread is the same as this thread. </td></tr>
    <tr><td class="paramname">false</td><td>The threads are different.</td></tr>
  </table>
  </dd>
</dl>
<p>Identical threads should have the same memory address.</p>
<p>Compatible with POSIX pthread_equal(). <a href="http://pubs.opengroup.org/onlinepubs/9699919799/functions/pthread_equal.html">http://pubs.opengroup.org/onlinepubs/9699919799/functions/pthread_equal.html</a> </p>

<p>Definition at line <a class="el" href="os_8h_source.html#l02668">2668</a> of file <a class="el" href="os_8h_source.html">os.h</a>.</p>
<div class="fragment"><div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;    {</div><div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">this</span> == &amp;rhs;</div><div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adda417485c68f1af5c279f0e36dc6382"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a> os::rtos::Thread::sched_prio </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceos_1_1rtos_1_1thread.html#a1257cd2ea834219f38831bcf66485103">thread::priority_t</a>&#160;</td>
          <td class="paramname"><em>prio</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set dynamic scheduling priority. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="namespaceos_1_1rtos_1_1result.html#a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b">result::ok</a></td><td>The priority was set. </td></tr>
    <tr><td class="paramname">EPERM</td><td>Cannot be invoked from an Interrupt Service Routine. </td></tr>
    <tr><td class="paramname">EINVAL</td><td>The value of prio is invalid for the scheduling policy of the specified thread.</td></tr>
  </table>
  </dd>
</dl>
<p>Set the scheduling priority for the thread to the value given by prio.</p>
<p>pthread_setschedprio() <a href="http://pubs.opengroup.org/onlinepubs/9699919799/functions/pthread_setschedprio.html">http://pubs.opengroup.org/onlinepubs/9699919799/functions/pthread_setschedprio.html</a></p>
<p>If an implementation detects use of a thread ID after the end of its lifetime, it is recommended that the function should fail and report an [ESRCH] error.</p>
<p>The pthread_setschedprio() function shall not return an error code of [EINTR].</p>
<dl class="section warning"><dt>Warning</dt><dd>Cannot be invoked from Interrupt Service Routines. </dd></dl>

<p>Definition at line <a class="el" href="os-thread_8cpp_source.html#l00394">394</a> of file <a class="el" href="os-thread_8cpp_source.html">os-thread.cpp</a>.</p>

<p>References <a class="el" href="os_8h_source.html#l00370">os::rtos::thread::priority::error</a>, <a class="el" href="os-core_8cpp_source.html#l00068">os::rtos::scheduler::in_handler_mode()</a>, <a class="el" href="os_8h_source.html#l02531">os::rtos::Named_object::name()</a>, <a class="el" href="os_8h_source.html#l00359">os::rtos::thread::priority::none</a>, <a class="el" href="os_8h_source.html#l00101">os::rtos::result::ok</a>, <a class="el" href="os_8h_source.html#l03032">os_assert_err</a>, <a class="el" href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">os::trace::printf()</a>, <a class="el" href="os_8h_source.html#l00845">prio_</a>, and <a class="el" href="os-thread_8cpp_source.html#l00087">os::rtos::this_thread::yield()</a>.</p>
<div class="fragment"><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    {</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      <a class="code" href="os_8h.html#ae9cede0de19446e3a5eb930b6b10dd39">os_assert_err</a>(!<a class="code" href="namespaceos_1_1rtos_1_1scheduler.html#a72474ad9ad219abeb13fb3ed0b95a8b3">scheduler::in_handler_mode</a> (), EPERM);</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;      <a class="code" href="os_8h.html#ae9cede0de19446e3a5eb930b6b10dd39">os_assert_err</a>(prio &lt; <a class="code" href="namespaceos_1_1rtos_1_1thread_1_1priority.html#ae5d3cbe95bd71d0a7fd8e77bfa710154a3f38937bb7063900c3328df07da44c0c">thread::priority::error</a>, EINVAL);</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;      <a class="code" href="os_8h.html#ae9cede0de19446e3a5eb930b6b10dd39">os_assert_err</a>(prio != <a class="code" href="namespaceos_1_1rtos_1_1thread_1_1priority.html#ae5d3cbe95bd71d0a7fd8e77bfa710154abe1def6f8adb29967a162872655593ae">thread::priority::none</a>, EINVAL);</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      <a class="code" href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">trace::printf</a> (<span class="stringliteral">&quot;%s(%d) @%p %s\n&quot;</span>, __func__, prio, <span class="keyword">this</span>, <a class="code" href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">name</a> ());</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;      <a class="code" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a> res = <a class="code" href="namespaceos_1_1rtos_1_1result.html#a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b">result::ok</a>;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="preprocessor">#if defined(OS_INCLUDE_PORT_RTOS_THREAD)</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      <span class="comment">// The port must perform a context switch.</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      res = port::Thread::sched_prio (<span class="keyword">this</span>, prio);</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;      <span class="comment">// TODO</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;      <a class="code" href="classos_1_1rtos_1_1_thread.html#acb6b86867c6dcc9e2e0cc088e365b9fe">prio_</a> = prio;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;      <span class="comment">// Mandatory, the priority might have been raised, the</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      <span class="comment">// task must be scheduled to run.</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      <a class="code" href="namespaceos_1_1rtos_1_1this__thread.html#a6d6b2df07994ab81b2435596a93bbdb6">this_thread::yield</a> ();</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;      <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    }</div><div class="ttc" id="namespaceos_1_1rtos_1_1this__thread_html_a6d6b2df07994ab81b2435596a93bbdb6"><div class="ttname"><a href="namespaceos_1_1rtos_1_1this__thread.html#a6d6b2df07994ab81b2435596a93bbdb6">os::rtos::this_thread::yield</a></div><div class="ttdeci">void yield(void)</div><div class="ttdoc">Yield CPU. </div><div class="ttdef"><b>Definition:</b> <a href="os-thread_8cpp_source.html#l00087">os-thread.cpp:87</a></div></div>
<div class="ttc" id="namespaceos_1_1rtos_1_1thread_1_1priority_html_ae5d3cbe95bd71d0a7fd8e77bfa710154abe1def6f8adb29967a162872655593ae"><div class="ttname"><a href="namespaceos_1_1rtos_1_1thread_1_1priority.html#ae5d3cbe95bd71d0a7fd8e77bfa710154abe1def6f8adb29967a162872655593ae">os::rtos::thread::priority::none</a></div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00359">os.h:359</a></div></div>
<div class="ttc" id="os_8h_html_ae9cede0de19446e3a5eb930b6b10dd39"><div class="ttname"><a href="os_8h.html#ae9cede0de19446e3a5eb930b6b10dd39">os_assert_err</a></div><div class="ttdeci">#define os_assert_err(__e, __er)</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l03032">os.h:3032</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_named__object_html_a1ced578ffc847e14547b02ee1473c44e"><div class="ttname"><a href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">os::rtos::Named_object::name</a></div><div class="ttdeci">const char * name(void) const </div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l02531">os.h:2531</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_thread_html_acb6b86867c6dcc9e2e0cc088e365b9fe"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#acb6b86867c6dcc9e2e0cc088e365b9fe">os::rtos::Thread::prio_</a></div><div class="ttdeci">thread::priority_t prio_</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00845">os.h:845</a></div></div>
<div class="ttc" id="namespaceos_1_1rtos_1_1result_html_a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b"><div class="ttname"><a href="namespaceos_1_1rtos_1_1result.html#a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b">os::rtos::result::ok</a></div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00101">os.h:101</a></div></div>
<div class="ttc" id="namespaceos_1_1rtos_html_a54633089ccffe9e56ce1137ebe57776d"><div class="ttname"><a href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">os::rtos::result_t</a></div><div class="ttdeci">uint32_t result_t</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00090">os.h:90</a></div></div>
<div class="ttc" id="namespaceos_1_1rtos_1_1thread_1_1priority_html_ae5d3cbe95bd71d0a7fd8e77bfa710154a3f38937bb7063900c3328df07da44c0c"><div class="ttname"><a href="namespaceos_1_1rtos_1_1thread_1_1priority.html#ae5d3cbe95bd71d0a7fd8e77bfa710154a3f38937bb7063900c3328df07da44c0c">os::rtos::thread::priority::error</a></div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00370">os.h:370</a></div></div>
<div class="ttc" id="namespaceos_1_1rtos_1_1scheduler_html_a72474ad9ad219abeb13fb3ed0b95a8b3"><div class="ttname"><a href="namespaceos_1_1rtos_1_1scheduler.html#a72474ad9ad219abeb13fb3ed0b95a8b3">os::rtos::scheduler::in_handler_mode</a></div><div class="ttdeci">bool in_handler_mode(void)</div><div class="ttdoc">Check if in handler mode. </div><div class="ttdef"><b>Definition:</b> <a href="os-core_8cpp_source.html#l00068">os-core.cpp:68</a></div></div>
<div class="ttc" id="namespaceos_1_1trace_html_ab99139b69af4fe6f063b4a236133b2ee"><div class="ttname"><a href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">os::trace::printf</a></div><div class="ttdeci">int printf(const char *format,...)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af1118dae8826231c78f8805704f90a66"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceos_1_1rtos_1_1thread.html#a1257cd2ea834219f38831bcf66485103">thread::priority_t</a> os::rtos::Thread::sched_prio </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current scheduling priority. </p>
<dl class="section return"><dt>Returns</dt><dd>The thread priority.</dd></dl>
<p>No POSIX equivalent.</p>
<dl class="section warning"><dt>Warning</dt><dd>Cannot be invoked from Interrupt Service Routines. </dd></dl>

<p>Definition at line <a class="el" href="os-thread_8cpp_source.html#l00357">357</a> of file <a class="el" href="os-thread_8cpp_source.html">os-thread.cpp</a>.</p>

<p>References <a class="el" href="os_8h_source.html#l00370">os::rtos::thread::priority::error</a>, <a class="el" href="os-core_8cpp_source.html#l00068">os::rtos::scheduler::in_handler_mode()</a>, <a class="el" href="os_8h_source.html#l02531">os::rtos::Named_object::name()</a>, <a class="el" href="os_8h_source.html#l03032">os_assert_err</a>, <a class="el" href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">os::trace::printf()</a>, and <a class="el" href="os_8h_source.html#l00845">prio_</a>.</p>
<div class="fragment"><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    {</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      <a class="code" href="os_8h.html#ae9cede0de19446e3a5eb930b6b10dd39">os_assert_err</a>(!<a class="code" href="namespaceos_1_1rtos_1_1scheduler.html#a72474ad9ad219abeb13fb3ed0b95a8b3">scheduler::in_handler_mode</a> (), <a class="code" href="namespaceos_1_1rtos_1_1thread_1_1priority.html#ae5d3cbe95bd71d0a7fd8e77bfa710154a3f38937bb7063900c3328df07da44c0c">thread::priority::error</a>);</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;      <a class="code" href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">trace::printf</a> (<span class="stringliteral">&quot;%s() @%p %s\n&quot;</span>, __func__, <span class="keyword">this</span>, <a class="code" href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">name</a> ());</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="preprocessor">#if defined(OS_INCLUDE_PORT_RTOS_THREAD)</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      <span class="keywordflow">return</span> port::Thread::sched_prio (<span class="keyword">this</span>);</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;      <span class="comment">// TODO</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classos_1_1rtos_1_1_thread.html#acb6b86867c6dcc9e2e0cc088e365b9fe">prio_</a>;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    }</div><div class="ttc" id="os_8h_html_ae9cede0de19446e3a5eb930b6b10dd39"><div class="ttname"><a href="os_8h.html#ae9cede0de19446e3a5eb930b6b10dd39">os_assert_err</a></div><div class="ttdeci">#define os_assert_err(__e, __er)</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l03032">os.h:3032</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_named__object_html_a1ced578ffc847e14547b02ee1473c44e"><div class="ttname"><a href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">os::rtos::Named_object::name</a></div><div class="ttdeci">const char * name(void) const </div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l02531">os.h:2531</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_thread_html_acb6b86867c6dcc9e2e0cc088e365b9fe"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#acb6b86867c6dcc9e2e0cc088e365b9fe">os::rtos::Thread::prio_</a></div><div class="ttdeci">thread::priority_t prio_</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00845">os.h:845</a></div></div>
<div class="ttc" id="namespaceos_1_1rtos_1_1thread_1_1priority_html_ae5d3cbe95bd71d0a7fd8e77bfa710154a3f38937bb7063900c3328df07da44c0c"><div class="ttname"><a href="namespaceos_1_1rtos_1_1thread_1_1priority.html#ae5d3cbe95bd71d0a7fd8e77bfa710154a3f38937bb7063900c3328df07da44c0c">os::rtos::thread::priority::error</a></div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00370">os.h:370</a></div></div>
<div class="ttc" id="namespaceos_1_1rtos_1_1scheduler_html_a72474ad9ad219abeb13fb3ed0b95a8b3"><div class="ttname"><a href="namespaceos_1_1rtos_1_1scheduler.html#a72474ad9ad219abeb13fb3ed0b95a8b3">os::rtos::scheduler::in_handler_mode</a></div><div class="ttdeci">bool in_handler_mode(void)</div><div class="ttdoc">Check if in handler mode. </div><div class="ttdef"><b>Definition:</b> <a href="os-core_8cpp_source.html#l00068">os-core.cpp:68</a></div></div>
<div class="ttc" id="namespaceos_1_1trace_html_ab99139b69af4fe6f063b4a236133b2ee"><div class="ttname"><a href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">os::trace::printf</a></div><div class="ttdeci">int printf(const char *format,...)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6f7a57857cfb1806f6ffb7e139c0bcce"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceos_1_1rtos_1_1thread.html#ac83bf77031e2c139bb553426b0805d2d">thread::state_t</a> os::rtos::Thread::sched_state </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="os_8h_source.html#l02674">2674</a> of file <a class="el" href="os_8h_source.html">os.h</a>.</p>

<p>Referenced by <a class="el" href="os-c-wrapper_8cpp_source.html#l00869">osThreadCreate()</a>.</p>
<div class="fragment"><div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;    {</div><div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classos_1_1rtos_1_1_thread.html#a5b767f10a973eb5640852b7e12ccd4e1">sched_state_</a>;</div><div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;    }</div><div class="ttc" id="classos_1_1rtos_1_1_thread_html_a5b767f10a973eb5640852b7e12ccd4e1"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#a5b767f10a973eb5640852b7e12ccd4e1">os::rtos::Thread::sched_state_</a></div><div class="ttdeci">thread::state_t sched_state_</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00844">os.h:844</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a684676c4acf5fe6ad4a7a0aa6ea4c854"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a> os::rtos::Thread::sig_clear </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">thread::sigset_t</a>&#160;</td>
          <td class="paramname"><em>mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">thread::sigset_t</a> *&#160;</td>
          <td class="paramname"><em>oflags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear thread signal flags. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">oflags</td><td>Optional pointer where to store the previous flags; may be nullptr. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mask</td><td>The OR-ed flags to clear. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="namespaceos_1_1rtos_1_1result.html#a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b">result::ok</a></td><td>The flags were cleared. </td></tr>
    <tr><td class="paramname">EPERM</td><td>Cannot be invoked from an Interrupt Service Routine. </td></tr>
    <tr><td class="paramname">EINVAL</td><td>The mask is zero.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>Cannot be invoked from Interrupt Service Routines. </dd></dl>

<p>Definition at line <a class="el" href="os-thread_8cpp_source.html#l00710">710</a> of file <a class="el" href="os-thread_8cpp_source.html">os-thread.cpp</a>.</p>

<p>References <a class="el" href="os-core_8cpp_source.html#l00068">os::rtos::scheduler::in_handler_mode()</a>, <a class="el" href="os_8h_source.html#l02531">os::rtos::Named_object::name()</a>, <a class="el" href="os_8h_source.html#l00101">os::rtos::result::ok</a>, <a class="el" href="os_8h_source.html#l03032">os_assert_err</a>, <a class="el" href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">os::trace::printf()</a>, and <a class="el" href="os_8h_source.html#l00850">sig_mask_</a>.</p>
<div class="fragment"><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    {</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;      <a class="code" href="os_8h.html#ae9cede0de19446e3a5eb930b6b10dd39">os_assert_err</a>(!<a class="code" href="namespaceos_1_1rtos_1_1scheduler.html#a72474ad9ad219abeb13fb3ed0b95a8b3">scheduler::in_handler_mode</a> (), EPERM);</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;      <a class="code" href="os_8h.html#ae9cede0de19446e3a5eb930b6b10dd39">os_assert_err</a>(mask != 0, EINVAL);</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;      <a class="code" href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">trace::printf</a> (<span class="stringliteral">&quot;%s(0x%X) @%p %s\n&quot;</span>, __func__, mask, <span class="keyword">this</span>, <a class="code" href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">name</a> ());</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;      interrupts::Critical_section cs; <span class="comment">// ----- Critical section -----</span></div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;      <span class="keywordflow">if</span> (oflags != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        {</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;          *oflags = <a class="code" href="classos_1_1rtos_1_1_thread.html#ab36f37b895c94f45cac841c00e9f5722">sig_mask_</a>;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        }</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;      <span class="comment">// Clear the selected bits; leave the rest untouched.</span></div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;      <a class="code" href="classos_1_1rtos_1_1_thread.html#ab36f37b895c94f45cac841c00e9f5722">sig_mask_</a> &amp;= ~mask;</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespaceos_1_1rtos_1_1result.html#a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b">result::ok</a>;</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    }</div><div class="ttc" id="os_8h_html_ae9cede0de19446e3a5eb930b6b10dd39"><div class="ttname"><a href="os_8h.html#ae9cede0de19446e3a5eb930b6b10dd39">os_assert_err</a></div><div class="ttdeci">#define os_assert_err(__e, __er)</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l03032">os.h:3032</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_named__object_html_a1ced578ffc847e14547b02ee1473c44e"><div class="ttname"><a href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">os::rtos::Named_object::name</a></div><div class="ttdeci">const char * name(void) const </div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l02531">os.h:2531</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_thread_html_ab36f37b895c94f45cac841c00e9f5722"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#ab36f37b895c94f45cac841c00e9f5722">os::rtos::Thread::sig_mask_</a></div><div class="ttdeci">thread::sigset_t sig_mask_</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00850">os.h:850</a></div></div>
<div class="ttc" id="namespaceos_1_1rtos_1_1result_html_a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b"><div class="ttname"><a href="namespaceos_1_1rtos_1_1result.html#a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b">os::rtos::result::ok</a></div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00101">os.h:101</a></div></div>
<div class="ttc" id="namespaceos_1_1rtos_1_1scheduler_html_a72474ad9ad219abeb13fb3ed0b95a8b3"><div class="ttname"><a href="namespaceos_1_1rtos_1_1scheduler.html#a72474ad9ad219abeb13fb3ed0b95a8b3">os::rtos::scheduler::in_handler_mode</a></div><div class="ttdeci">bool in_handler_mode(void)</div><div class="ttdoc">Check if in handler mode. </div><div class="ttdef"><b>Definition:</b> <a href="os-core_8cpp_source.html#l00068">os-core.cpp:68</a></div></div>
<div class="ttc" id="namespaceos_1_1trace_html_ab99139b69af4fe6f063b4a236133b2ee"><div class="ttname"><a href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">os::trace::printf</a></div><div class="ttdeci">int printf(const char *format,...)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2661cc44d1b239382f95baba06ab2e3e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">thread::sigset_t</a> os::rtos::Thread::sig_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">thread::sigset_t</a>&#160;</td>
          <td class="paramname"><em>mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceos_1_1rtos_1_1flags.html#a49c1da8337c9d32697fefbdf0412cdac">flags::mode_t</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get/clear thread signal flags. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mask</td><td>The OR-ed flags to get/clear; may be zero. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>Mode bits to select if the flags should be cleared (the other bits are ignored). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">flags</td><td>The selected bits from the current thread signal flags mask. </td></tr>
    <tr><td class="paramname">sig::all</td><td>Cannot be invoked from an Interrupt Service Routine.</td></tr>
  </table>
  </dd>
</dl>
<p>Select the requested bits from the thread current signal mask and return them. If requested, clear the selected bits in the thread signal mask.</p>
<p>If the mask is zero, return the full thread signal mask, without any masking or subsequent clearing.</p>
<dl class="section warning"><dt>Warning</dt><dd>Cannot be invoked from Interrupt Service Routines. </dd></dl>

<p>Definition at line <a class="el" href="os-thread_8cpp_source.html#l00679">679</a> of file <a class="el" href="os-thread_8cpp_source.html">os-thread.cpp</a>.</p>

<p>References <a class="el" href="os_8h_source.html#l00395">os::rtos::thread::sig::all</a>, <a class="el" href="os_8h_source.html#l00335">os::rtos::flags::mode::clear</a>, <a class="el" href="os-core_8cpp_source.html#l00068">os::rtos::scheduler::in_handler_mode()</a>, <a class="el" href="os_8h_source.html#l02531">os::rtos::Named_object::name()</a>, <a class="el" href="os_8h_source.html#l03032">os_assert_err</a>, <a class="el" href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">os::trace::printf()</a>, <a class="el" href="trace_8cpp_source.html#l00063">os::trace::ret</a>, and <a class="el" href="os_8h_source.html#l00850">sig_mask_</a>.</p>
<div class="fragment"><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    {</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;      <a class="code" href="os_8h.html#ae9cede0de19446e3a5eb930b6b10dd39">os_assert_err</a>(!<a class="code" href="namespaceos_1_1rtos_1_1scheduler.html#a72474ad9ad219abeb13fb3ed0b95a8b3">scheduler::in_handler_mode</a> (), <a class="code" href="namespaceos_1_1rtos_1_1thread_1_1sig.html#a401cf4d8bc6b555ae0c5cd1dde760241aa834b8f5bbec9b190e63a75f1bae3502">thread::sig::all</a>);</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;      <a class="code" href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">trace::printf</a> (<span class="stringliteral">&quot;%s(0x%X) @%p %s\n&quot;</span>, __func__, mask, <span class="keyword">this</span>, <a class="code" href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">name</a> ());</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;      interrupts::Critical_section cs; <span class="comment">// ----- Critical section -----</span></div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;      <span class="keywordflow">if</span> (mask == 0)</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        {</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;          <span class="comment">// Return the entire mask.</span></div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classos_1_1rtos_1_1_thread.html#ab36f37b895c94f45cac841c00e9f5722">sig_mask_</a>;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        }</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;      <a class="code" href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">thread::sigset_t</a> <a class="code" href="namespaceos_1_1trace.html#ab10592380e84fa025edb7572eb1e87a2">ret</a> = <a class="code" href="classos_1_1rtos_1_1_thread.html#ab36f37b895c94f45cac841c00e9f5722">sig_mask_</a> &amp; mask;</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;      <span class="keywordflow">if</span> ((mode &amp; <a class="code" href="namespaceos_1_1rtos_1_1flags_1_1mode.html#a281c59461b101136f3907463bd025e63a71559e3634890b5547e62ff93160ac3a">flags::mode::clear</a>) != 0)</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        {</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;          <span class="comment">// Clear the selected bits; leave the rest untouched.</span></div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;          <a class="code" href="classos_1_1rtos_1_1_thread.html#ab36f37b895c94f45cac841c00e9f5722">sig_mask_</a> &amp;= ~mask;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        }</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;      <span class="comment">// Return the selected bits.</span></div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespaceos_1_1trace.html#ab10592380e84fa025edb7572eb1e87a2">ret</a>;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    }</div><div class="ttc" id="os_8h_html_ae9cede0de19446e3a5eb930b6b10dd39"><div class="ttname"><a href="os_8h.html#ae9cede0de19446e3a5eb930b6b10dd39">os_assert_err</a></div><div class="ttdeci">#define os_assert_err(__e, __er)</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l03032">os.h:3032</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_named__object_html_a1ced578ffc847e14547b02ee1473c44e"><div class="ttname"><a href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">os::rtos::Named_object::name</a></div><div class="ttdeci">const char * name(void) const </div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l02531">os.h:2531</a></div></div>
<div class="ttc" id="namespaceos_1_1rtos_1_1thread_1_1sig_html_a401cf4d8bc6b555ae0c5cd1dde760241aa834b8f5bbec9b190e63a75f1bae3502"><div class="ttname"><a href="namespaceos_1_1rtos_1_1thread_1_1sig.html#a401cf4d8bc6b555ae0c5cd1dde760241aa834b8f5bbec9b190e63a75f1bae3502">os::rtos::thread::sig::all</a></div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00395">os.h:395</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_thread_html_ab36f37b895c94f45cac841c00e9f5722"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#ab36f37b895c94f45cac841c00e9f5722">os::rtos::Thread::sig_mask_</a></div><div class="ttdeci">thread::sigset_t sig_mask_</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00850">os.h:850</a></div></div>
<div class="ttc" id="namespaceos_1_1trace_html_ab10592380e84fa025edb7572eb1e87a2"><div class="ttname"><a href="namespaceos_1_1trace.html#ab10592380e84fa025edb7572eb1e87a2">os::trace::ret</a></div><div class="ttdeci">int ret</div><div class="ttdef"><b>Definition:</b> <a href="trace_8cpp_source.html#l00063">trace.cpp:63</a></div></div>
<div class="ttc" id="namespaceos_1_1rtos_1_1flags_1_1mode_html_a281c59461b101136f3907463bd025e63a71559e3634890b5547e62ff93160ac3a"><div class="ttname"><a href="namespaceos_1_1rtos_1_1flags_1_1mode.html#a281c59461b101136f3907463bd025e63a71559e3634890b5547e62ff93160ac3a">os::rtos::flags::mode::clear</a></div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00335">os.h:335</a></div></div>
<div class="ttc" id="namespaceos_1_1rtos_1_1thread_html_ad726d18923d05ebbded9f22296b65c95"><div class="ttname"><a href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">os::rtos::thread::sigset_t</a></div><div class="ttdeci">flags::mask_t sigset_t</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00386">os.h:386</a></div></div>
<div class="ttc" id="namespaceos_1_1rtos_1_1scheduler_html_a72474ad9ad219abeb13fb3ed0b95a8b3"><div class="ttname"><a href="namespaceos_1_1rtos_1_1scheduler.html#a72474ad9ad219abeb13fb3ed0b95a8b3">os::rtos::scheduler::in_handler_mode</a></div><div class="ttdeci">bool in_handler_mode(void)</div><div class="ttdoc">Check if in handler mode. </div><div class="ttdef"><b>Definition:</b> <a href="os-core_8cpp_source.html#l00068">os-core.cpp:68</a></div></div>
<div class="ttc" id="namespaceos_1_1trace_html_ab99139b69af4fe6f063b4a236133b2ee"><div class="ttname"><a href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">os::trace::printf</a></div><div class="ttdeci">int printf(const char *format,...)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2936cb3bffb587e83ec9d199ac1898c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a> os::rtos::Thread::sig_raise </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">thread::sigset_t</a>&#160;</td>
          <td class="paramname"><em>mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">thread::sigset_t</a> *&#160;</td>
          <td class="paramname"><em>oflags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Raise thread signal flags. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mask</td><td>The OR-ed flags to raise. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">oflags</td><td>Optional pointer where to store the previous flags; may be nullptr. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="namespaceos_1_1rtos_1_1result.html#a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b">result::ok</a></td><td>The flags were raised. </td></tr>
    <tr><td class="paramname">EINVAL</td><td>The mask is zero. </td></tr>
    <tr><td class="paramname">EPERM</td><td>Cannot be invoked from an Interrupt Service Routine.</td></tr>
  </table>
  </dd>
</dl>
<p>Set more bits in the thread current signal flags mask. Use OR at bit-mask level. Wake-up the thread to evaluate the signal flagss.</p>
<dl class="section note"><dt>Note</dt><dd>Can be invoked from Interrupt Service Routines. </dd></dl>

<p>Definition at line <a class="el" href="os-thread_8cpp_source.html#l00647">647</a> of file <a class="el" href="os-thread_8cpp_source.html">os-thread.cpp</a>.</p>

<p>References <a class="el" href="os_8h_source.html#l02531">os::rtos::Named_object::name()</a>, <a class="el" href="os_8h_source.html#l00101">os::rtos::result::ok</a>, <a class="el" href="os_8h_source.html#l03032">os_assert_err</a>, <a class="el" href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">os::trace::printf()</a>, <a class="el" href="os_8h_source.html#l00850">sig_mask_</a>, and <a class="el" href="os-thread_8cpp_source.html#l00314">wakeup()</a>.</p>
<div class="fragment"><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    {</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;      <a class="code" href="os_8h.html#ae9cede0de19446e3a5eb930b6b10dd39">os_assert_err</a>(mask != 0, EINVAL);</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;      <a class="code" href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">trace::printf</a> (<span class="stringliteral">&quot;%s(0x%X) @%p %s\n&quot;</span>, __func__, mask, <span class="keyword">this</span>, <a class="code" href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">name</a> ());</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;      interrupts::Critical_section cs; <span class="comment">// ----- Critical section -----</span></div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;      <span class="keywordflow">if</span> (oflags != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        {</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;          *oflags = <a class="code" href="classos_1_1rtos_1_1_thread.html#ab36f37b895c94f45cac841c00e9f5722">sig_mask_</a>;</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        }</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;      <a class="code" href="classos_1_1rtos_1_1_thread.html#ab36f37b895c94f45cac841c00e9f5722">sig_mask_</a> |= mask;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;      <a class="code" href="classos_1_1rtos_1_1_thread.html#a36e40610400fba15e445695974cd712e">wakeup</a> ();</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespaceos_1_1rtos_1_1result.html#a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b">result::ok</a>;</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    }</div><div class="ttc" id="os_8h_html_ae9cede0de19446e3a5eb930b6b10dd39"><div class="ttname"><a href="os_8h.html#ae9cede0de19446e3a5eb930b6b10dd39">os_assert_err</a></div><div class="ttdeci">#define os_assert_err(__e, __er)</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l03032">os.h:3032</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_named__object_html_a1ced578ffc847e14547b02ee1473c44e"><div class="ttname"><a href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">os::rtos::Named_object::name</a></div><div class="ttdeci">const char * name(void) const </div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l02531">os.h:2531</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_thread_html_ab36f37b895c94f45cac841c00e9f5722"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#ab36f37b895c94f45cac841c00e9f5722">os::rtos::Thread::sig_mask_</a></div><div class="ttdeci">thread::sigset_t sig_mask_</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00850">os.h:850</a></div></div>
<div class="ttc" id="namespaceos_1_1rtos_1_1result_html_a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b"><div class="ttname"><a href="namespaceos_1_1rtos_1_1result.html#a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b">os::rtos::result::ok</a></div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00101">os.h:101</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_thread_html_a36e40610400fba15e445695974cd712e"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#a36e40610400fba15e445695974cd712e">os::rtos::Thread::wakeup</a></div><div class="ttdeci">void wakeup(void)</div><div class="ttdoc">Wake-up the thread. </div><div class="ttdef"><b>Definition:</b> <a href="os-thread_8cpp_source.html#l00314">os-thread.cpp:314</a></div></div>
<div class="ttc" id="namespaceos_1_1trace_html_ab99139b69af4fe6f063b4a236133b2ee"><div class="ttname"><a href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">os::trace::printf</a></div><div class="ttdeci">int printf(const char *format,...)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a290fdad87e54541b91811d62a5f57f50"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a> os::rtos::Thread::sig_wait </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">thread::sigset_t</a>&#160;</td>
          <td class="paramname"><em>mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">thread::sigset_t</a> *&#160;</td>
          <td class="paramname"><em>oflags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceos_1_1rtos_1_1flags.html#a49c1da8337c9d32697fefbdf0412cdac">flags::mode_t</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>If the mode::all bit is set, the function expects all given flags to be raised; otherwise, if the mode::any bit is set, the function expects any single flag to be raised.</p>
<p>If the expected signal flags are raised, the function returns instantly.</p>
<p>Otherwise suspend the execution of the current thread until all/any specified signal flags are raised.</p>
<p>When the parameter mask is 0, the thread is suspended until any signal flag is raised. In this case, if any signal flags are already raised, the function returns instantly.</p>
<p>If the mode::clear bit is set, the signal flags that are returned are automatically cleared.</p>
<dl class="section warning"><dt>Warning</dt><dd>Cannot be invoked from Interrupt Service Routines. </dd></dl>

<p>Definition at line <a class="el" href="os-thread_8cpp_source.html#l00794">794</a> of file <a class="el" href="os-thread_8cpp_source.html">os-thread.cpp</a>.</p>

<p>References <a class="el" href="os-thread_8cpp_source.html#l00736">_try_wait()</a>, <a class="el" href="os-core_8cpp_source.html#l00068">os::rtos::scheduler::in_handler_mode()</a>, <a class="el" href="os-thread_8cpp_source.html#l00539">interrupted()</a>, <a class="el" href="os_8h_source.html#l02531">os::rtos::Named_object::name()</a>, <a class="el" href="os-clocks_8cpp_source.html#l00113">os::rtos::Systick_clock::now()</a>, <a class="el" href="os_8h_source.html#l00101">os::rtos::result::ok</a>, <a class="el" href="os_8h_source.html#l03032">os_assert_err</a>, <a class="el" href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">os::trace::printf()</a>, and <a class="el" href="os-thread_8cpp_source.html#l00292">suspend()</a>.</p>

<p>Referenced by <a class="el" href="os_8h_source.html#l02610">os::rtos::this_thread::sig_wait()</a>.</p>
<div class="fragment"><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    {</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;      <a class="code" href="os_8h.html#ae9cede0de19446e3a5eb930b6b10dd39">os_assert_err</a>(!<a class="code" href="namespaceos_1_1rtos_1_1scheduler.html#a72474ad9ad219abeb13fb3ed0b95a8b3">scheduler::in_handler_mode</a> (), EPERM);</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;      <a class="code" href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">trace::printf</a> (<span class="stringliteral">&quot;%s(0x%X, %d) @%p %s\n&quot;</span>, __func__, mask, mode, <span class="keyword">this</span>,</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                     <a class="code" href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">name</a> ());</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;      <a class="code" href="classos_1_1rtos_1_1_systick__clock.html#a3a336bffaba53c6e9e10ee113223ce2c">Systick_clock::rep</a> prev = <a class="code" href="classos_1_1rtos_1_1_systick__clock.html#aa4d672026780d470d98aa0e6d286783a">Systick_clock::now</a> ();</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;      <a class="code" href="classos_1_1rtos_1_1_systick__clock.html#a66f2254ad017ee02f5ec3749e079e849">Systick_clock::sleep_rep</a> slept_ticks = 0;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;      <span class="keywordflow">for</span> (;;)</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        {</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;            {</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;              interrupts::Critical_section cs; <span class="comment">// ----- Critical section -----</span></div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;              <span class="keywordflow">if</span> (<a class="code" href="classos_1_1rtos_1_1_thread.html#a16553b693dc0aab46b9cd8812bb509dc">_try_wait</a> (mask, oflags, mode) == <a class="code" href="namespaceos_1_1rtos_1_1result.html#a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b">result::ok</a>)</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                {</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                  slept_ticks =</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;                      (<a class="code" href="classos_1_1rtos_1_1_systick__clock.html#a66f2254ad017ee02f5ec3749e079e849">Systick_clock::sleep_rep</a>) (<a class="code" href="classos_1_1rtos_1_1_systick__clock.html#aa4d672026780d470d98aa0e6d286783a">Systick_clock::now</a> () - prev);</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                  <a class="code" href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">trace::printf</a> (<span class="stringliteral">&quot;%s(0x%X, %d)=%d @%p %s\n&quot;</span>, __func__, mask,</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                                 mode, slept_ticks, <span class="keyword">this</span>, <a class="code" href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">name</a> ());</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;                  <span class="keywordflow">return</span> <a class="code" href="namespaceos_1_1rtos_1_1result.html#a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b">result::ok</a>;</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;                }</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;            }</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;          <a class="code" href="classos_1_1rtos_1_1_thread.html#adb62f9d5c8007d0032cd45ddbacab5f5">suspend</a> ();</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classos_1_1rtos_1_1_thread.html#a707ddda84d350fe2371e0095ae5eddad">interrupted</a> ())</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;            {</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;              <span class="keywordflow">return</span> EINTR;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;            }</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;        }</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;      <span class="keywordflow">return</span> ENOTRECOVERABLE;</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    }</div><div class="ttc" id="classos_1_1rtos_1_1_thread_html_a707ddda84d350fe2371e0095ae5eddad"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#a707ddda84d350fe2371e0095ae5eddad">os::rtos::Thread::interrupted</a></div><div class="ttdeci">bool interrupted(void)</div><div class="ttdef"><b>Definition:</b> <a href="os-thread_8cpp_source.html#l00539">os-thread.cpp:539</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_thread_html_a16553b693dc0aab46b9cd8812bb509dc"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#a16553b693dc0aab46b9cd8812bb509dc">os::rtos::Thread::_try_wait</a></div><div class="ttdeci">result_t _try_wait(thread::sigset_t mask, thread::sigset_t *oflags, flags::mode_t mode)</div><div class="ttdef"><b>Definition:</b> <a href="os-thread_8cpp_source.html#l00736">os-thread.cpp:736</a></div></div>
<div class="ttc" id="os_8h_html_ae9cede0de19446e3a5eb930b6b10dd39"><div class="ttname"><a href="os_8h.html#ae9cede0de19446e3a5eb930b6b10dd39">os_assert_err</a></div><div class="ttdeci">#define os_assert_err(__e, __er)</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l03032">os.h:3032</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_systick__clock_html_aa4d672026780d470d98aa0e6d286783a"><div class="ttname"><a href="classos_1_1rtos_1_1_systick__clock.html#aa4d672026780d470d98aa0e6d286783a">os::rtos::Systick_clock::now</a></div><div class="ttdeci">static rep now(void)</div><div class="ttdoc">Tell the current time. </div><div class="ttdef"><b>Definition:</b> <a href="os-clocks_8cpp_source.html#l00113">os-clocks.cpp:113</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_named__object_html_a1ced578ffc847e14547b02ee1473c44e"><div class="ttname"><a href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">os::rtos::Named_object::name</a></div><div class="ttdeci">const char * name(void) const </div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l02531">os.h:2531</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_thread_html_adb62f9d5c8007d0032cd45ddbacab5f5"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#adb62f9d5c8007d0032cd45ddbacab5f5">os::rtos::Thread::suspend</a></div><div class="ttdeci">void suspend(void)</div><div class="ttdoc">Suspend the current thread. </div><div class="ttdef"><b>Definition:</b> <a href="os-thread_8cpp_source.html#l00292">os-thread.cpp:292</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_systick__clock_html_a3a336bffaba53c6e9e10ee113223ce2c"><div class="ttname"><a href="classos_1_1rtos_1_1_systick__clock.html#a3a336bffaba53c6e9e10ee113223ce2c">os::rtos::Systick_clock::rep</a></div><div class="ttdeci">uint64_t rep</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00872">os.h:872</a></div></div>
<div class="ttc" id="namespaceos_1_1rtos_1_1result_html_a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b"><div class="ttname"><a href="namespaceos_1_1rtos_1_1result.html#a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b">os::rtos::result::ok</a></div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00101">os.h:101</a></div></div>
<div class="ttc" id="namespaceos_1_1rtos_1_1scheduler_html_a72474ad9ad219abeb13fb3ed0b95a8b3"><div class="ttname"><a href="namespaceos_1_1rtos_1_1scheduler.html#a72474ad9ad219abeb13fb3ed0b95a8b3">os::rtos::scheduler::in_handler_mode</a></div><div class="ttdeci">bool in_handler_mode(void)</div><div class="ttdoc">Check if in handler mode. </div><div class="ttdef"><b>Definition:</b> <a href="os-core_8cpp_source.html#l00068">os-core.cpp:68</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_systick__clock_html_a66f2254ad017ee02f5ec3749e079e849"><div class="ttname"><a href="classos_1_1rtos_1_1_systick__clock.html#a66f2254ad017ee02f5ec3749e079e849">os::rtos::Systick_clock::sleep_rep</a></div><div class="ttdeci">duration_t sleep_rep</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00873">os.h:873</a></div></div>
<div class="ttc" id="namespaceos_1_1trace_html_ab99139b69af4fe6f063b4a236133b2ee"><div class="ttname"><a href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">os::trace::printf</a></div><div class="ttdeci">int printf(const char *format,...)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adb62f9d5c8007d0032cd45ddbacab5f5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void os::rtos::Thread::suspend </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Suspend the current thread. </p>

<p>Definition at line <a class="el" href="os-thread_8cpp_source.html#l00292">292</a> of file <a class="el" href="os-thread_8cpp_source.html">os-thread.cpp</a>.</p>

<p>References <a class="el" href="os_8h_source.html#l02531">os::rtos::Named_object::name()</a>, <a class="el" href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">os::trace::printf()</a>, and <a class="el" href="usb-device_8h_source.html#l00137">os::driver::usb::device::suspend</a>.</p>

<p>Referenced by <a class="el" href="os-thread_8cpp_source.html#l00449">join()</a>, <a class="el" href="os-thread_8cpp_source.html#l00794">sig_wait()</a>, and <a class="el" href="os_8h_source.html#l02599">os::rtos::this_thread::suspend()</a>.</p>
<div class="fragment"><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    {</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      <a class="code" href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">trace::printf</a> (<span class="stringliteral">&quot;%s() @%p %s\n&quot;</span>, __func__, <span class="keyword">this</span>, <a class="code" href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">name</a> ());</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="preprocessor">#if defined(OS_INCLUDE_PORT_RTOS_THREAD)</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;      <a class="code" href="namespaceos_1_1driver_1_1usb_1_1device.html#ac271252f96010635939d3fcb301ba435a365843f20764d1f34a01033c24f1d299">port::Thread::suspend</a> (<span class="keyword">this</span>);</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      <span class="comment">// TODO</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    }</div><div class="ttc" id="classos_1_1rtos_1_1_named__object_html_a1ced578ffc847e14547b02ee1473c44e"><div class="ttname"><a href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">os::rtos::Named_object::name</a></div><div class="ttdeci">const char * name(void) const </div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l02531">os.h:2531</a></div></div>
<div class="ttc" id="namespaceos_1_1driver_1_1usb_1_1device_html_ac271252f96010635939d3fcb301ba435a365843f20764d1f34a01033c24f1d299"><div class="ttname"><a href="namespaceos_1_1driver_1_1usb_1_1device.html#ac271252f96010635939d3fcb301ba435a365843f20764d1f34a01033c24f1d299">os::driver::usb::device::suspend</a></div><div class="ttdoc">USB Resume occurred. </div><div class="ttdef"><b>Definition:</b> <a href="usb-device_8h_source.html#l00137">usb-device.h:137</a></div></div>
<div class="ttc" id="namespaceos_1_1trace_html_ab99139b69af4fe6f063b4a236133b2ee"><div class="ttname"><a href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">os::trace::printf</a></div><div class="ttdeci">int printf(const char *format,...)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad3f0a2a4ec37397a91a3492ad5aa2165"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a> os::rtos::Thread::timed_sig_wait </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">thread::sigset_t</a>&#160;</td>
          <td class="paramname"><em>mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">thread::sigset_t</a> *&#160;</td>
          <td class="paramname"><em>oflags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceos_1_1rtos.html#aba7f568590671eed574e70d3a38de2df">systicks_t</a>&#160;</td>
          <td class="paramname"><em>ticks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceos_1_1rtos_1_1flags.html#a49c1da8337c9d32697fefbdf0412cdac">flags::mode_t</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>If the mode::all bit is set, the function expects all given flags to be raised; otherwise, if the mode::any bit is set, the function expects any single flag to be raised.</p>
<p>If the expected signal flags are raised, the function returns instantly.</p>
<p>Otherwise suspend the execution of the thread until all/any specified signal flags are raised.</p>
<p>When the parameter mask is 0, the thread is suspended until any event flag is raised. In this case, if any signal flags are already raised, the function returns instantly.</p>
<p>The wait shall be terminated when the specified timeout expires.</p>
<p>The timeout shall expire after the number of time units (that is when the value of that clock equals or exceeds (now()+duration). The resolution of the timeout shall be the resolution of the clock on which it is based (the SysTick clock for CMSIS).</p>
<p>Under no circumstance shall the operation fail with a timeout if the signal flags are already raised.</p>
<p>If the mode::clear bit is set, the signal flags that are returned are automatically cleared.</p>
<dl class="section warning"><dt>Warning</dt><dd>Cannot be invoked from Interrupt Service Routines. </dd></dl>

<p>Definition at line <a class="el" href="os-thread_8cpp_source.html#l00887">887</a> of file <a class="el" href="os-thread_8cpp_source.html">os-thread.cpp</a>.</p>

<p>References <a class="el" href="os-thread_8cpp_source.html#l00736">_try_wait()</a>, <a class="el" href="os-core_8cpp_source.html#l00068">os::rtos::scheduler::in_handler_mode()</a>, <a class="el" href="os-thread_8cpp_source.html#l00539">interrupted()</a>, <a class="el" href="os_8h_source.html#l02531">os::rtos::Named_object::name()</a>, <a class="el" href="os-clocks_8cpp_source.html#l00113">os::rtos::Systick_clock::now()</a>, <a class="el" href="os_8h_source.html#l00101">os::rtos::result::ok</a>, <a class="el" href="os_8h_source.html#l03032">os_assert_err</a>, <a class="el" href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">os::trace::printf()</a>, and <a class="el" href="os-clocks_8cpp_source.html#l00258">os::rtos::Systick_clock::wait()</a>.</p>

<p>Referenced by <a class="el" href="os_8h_source.html#l02634">os::rtos::this_thread::timed_sig_wait()</a>.</p>
<div class="fragment"><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    {</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;      <a class="code" href="os_8h.html#ae9cede0de19446e3a5eb930b6b10dd39">os_assert_err</a>(!<a class="code" href="namespaceos_1_1rtos_1_1scheduler.html#a72474ad9ad219abeb13fb3ed0b95a8b3">scheduler::in_handler_mode</a> (), EPERM);</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;      <a class="code" href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">trace::printf</a> (<span class="stringliteral">&quot;%s(0x%X, %d, %d) @%p %s\n&quot;</span>, __func__, mask, mode, ticks,</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;                     <span class="keyword">this</span>, <a class="code" href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">name</a> ());</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;      <span class="keywordflow">if</span> (ticks == 0)</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        {</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;          ticks = 1;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        }</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        {</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;          interrupts::Critical_section cs; <span class="comment">// ----- Critical section -----</span></div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classos_1_1rtos_1_1_thread.html#a16553b693dc0aab46b9cd8812bb509dc">_try_wait</a> (mask, oflags, mode) == <a class="code" href="namespaceos_1_1rtos_1_1result.html#a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b">result::ok</a>)</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;            {</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;              <span class="keywordflow">return</span> <a class="code" href="namespaceos_1_1rtos_1_1result.html#a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b">result::ok</a>;</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;            }</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;        }</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;      <a class="code" href="classos_1_1rtos_1_1_systick__clock.html#a3a336bffaba53c6e9e10ee113223ce2c">Systick_clock::rep</a> prev = <a class="code" href="classos_1_1rtos_1_1_systick__clock.html#aa4d672026780d470d98aa0e6d286783a">Systick_clock::now</a> ();</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;      <a class="code" href="classos_1_1rtos_1_1_systick__clock.html#a66f2254ad017ee02f5ec3749e079e849">Systick_clock::sleep_rep</a> slept_ticks = 0;</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;      <a class="code" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a> res = ENOTRECOVERABLE;</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;      <span class="keywordflow">for</span> (;;)</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;        {</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;          <a class="code" href="classos_1_1rtos_1_1_systick__clock.html#a9fab09f31761d68d67f1d7add321f7c6">Systick_clock::wait</a> (ticks - slept_ticks);</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;          <a class="code" href="classos_1_1rtos_1_1_systick__clock.html#a3a336bffaba53c6e9e10ee113223ce2c">Systick_clock::rep</a> now = <a class="code" href="classos_1_1rtos_1_1_systick__clock.html#aa4d672026780d470d98aa0e6d286783a">Systick_clock::now</a> ();</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;          slept_ticks += (<a class="code" href="classos_1_1rtos_1_1_systick__clock.html#a66f2254ad017ee02f5ec3749e079e849">Systick_clock::sleep_rep</a>) (now - prev);</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;            {</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;              interrupts::Critical_section cs; <span class="comment">// ----- Critical section -----</span></div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;              <span class="keywordflow">if</span> (<a class="code" href="classos_1_1rtos_1_1_thread.html#a16553b693dc0aab46b9cd8812bb509dc">_try_wait</a> (mask, oflags, mode) == <a class="code" href="namespaceos_1_1rtos_1_1result.html#a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b">result::ok</a>)</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;                {</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;                  res = <a class="code" href="namespaceos_1_1rtos_1_1result.html#a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b">result::ok</a>;</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;                }</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;            }</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;          <span class="keywordflow">if</span> (slept_ticks &gt;= ticks)</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;            {</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;              res = ETIMEDOUT;</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;            }</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classos_1_1rtos_1_1_thread.html#a707ddda84d350fe2371e0095ae5eddad">interrupted</a> ())</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;            {</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;              res = EINTR;</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;            }</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;          prev = now;</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;        }</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;<span class="preprocessor">#if 1</span></div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;      <a class="code" href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">trace::printf</a> (<span class="stringliteral">&quot;%s(0x%X, %d, %d)=%d @%p %s\n&quot;</span>, __func__, mask, mode,</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;                     ticks, slept_ticks, <span class="keyword">this</span>, <a class="code" href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">name</a> ());</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;      <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    }</div><div class="ttc" id="classos_1_1rtos_1_1_thread_html_a707ddda84d350fe2371e0095ae5eddad"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#a707ddda84d350fe2371e0095ae5eddad">os::rtos::Thread::interrupted</a></div><div class="ttdeci">bool interrupted(void)</div><div class="ttdef"><b>Definition:</b> <a href="os-thread_8cpp_source.html#l00539">os-thread.cpp:539</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_thread_html_a16553b693dc0aab46b9cd8812bb509dc"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#a16553b693dc0aab46b9cd8812bb509dc">os::rtos::Thread::_try_wait</a></div><div class="ttdeci">result_t _try_wait(thread::sigset_t mask, thread::sigset_t *oflags, flags::mode_t mode)</div><div class="ttdef"><b>Definition:</b> <a href="os-thread_8cpp_source.html#l00736">os-thread.cpp:736</a></div></div>
<div class="ttc" id="os_8h_html_ae9cede0de19446e3a5eb930b6b10dd39"><div class="ttname"><a href="os_8h.html#ae9cede0de19446e3a5eb930b6b10dd39">os_assert_err</a></div><div class="ttdeci">#define os_assert_err(__e, __er)</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l03032">os.h:3032</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_systick__clock_html_aa4d672026780d470d98aa0e6d286783a"><div class="ttname"><a href="classos_1_1rtos_1_1_systick__clock.html#aa4d672026780d470d98aa0e6d286783a">os::rtos::Systick_clock::now</a></div><div class="ttdeci">static rep now(void)</div><div class="ttdoc">Tell the current time. </div><div class="ttdef"><b>Definition:</b> <a href="os-clocks_8cpp_source.html#l00113">os-clocks.cpp:113</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_named__object_html_a1ced578ffc847e14547b02ee1473c44e"><div class="ttname"><a href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">os::rtos::Named_object::name</a></div><div class="ttdeci">const char * name(void) const </div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l02531">os.h:2531</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_systick__clock_html_a3a336bffaba53c6e9e10ee113223ce2c"><div class="ttname"><a href="classos_1_1rtos_1_1_systick__clock.html#a3a336bffaba53c6e9e10ee113223ce2c">os::rtos::Systick_clock::rep</a></div><div class="ttdeci">uint64_t rep</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00872">os.h:872</a></div></div>
<div class="ttc" id="namespaceos_1_1rtos_1_1result_html_a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b"><div class="ttname"><a href="namespaceos_1_1rtos_1_1result.html#a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b">os::rtos::result::ok</a></div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00101">os.h:101</a></div></div>
<div class="ttc" id="namespaceos_1_1rtos_html_a54633089ccffe9e56ce1137ebe57776d"><div class="ttname"><a href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">os::rtos::result_t</a></div><div class="ttdeci">uint32_t result_t</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00090">os.h:90</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_systick__clock_html_a9fab09f31761d68d67f1d7add321f7c6"><div class="ttname"><a href="classos_1_1rtos_1_1_systick__clock.html#a9fab09f31761d68d67f1d7add321f7c6">os::rtos::Systick_clock::wait</a></div><div class="ttdeci">static result_t wait(sleep_rep ticks)</div><div class="ttdoc">Wait for an event. </div><div class="ttdef"><b>Definition:</b> <a href="os-clocks_8cpp_source.html#l00258">os-clocks.cpp:258</a></div></div>
<div class="ttc" id="namespaceos_1_1rtos_1_1scheduler_html_a72474ad9ad219abeb13fb3ed0b95a8b3"><div class="ttname"><a href="namespaceos_1_1rtos_1_1scheduler.html#a72474ad9ad219abeb13fb3ed0b95a8b3">os::rtos::scheduler::in_handler_mode</a></div><div class="ttdeci">bool in_handler_mode(void)</div><div class="ttdoc">Check if in handler mode. </div><div class="ttdef"><b>Definition:</b> <a href="os-core_8cpp_source.html#l00068">os-core.cpp:68</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_systick__clock_html_a66f2254ad017ee02f5ec3749e079e849"><div class="ttname"><a href="classos_1_1rtos_1_1_systick__clock.html#a66f2254ad017ee02f5ec3749e079e849">os::rtos::Systick_clock::sleep_rep</a></div><div class="ttdeci">duration_t sleep_rep</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00873">os.h:873</a></div></div>
<div class="ttc" id="namespaceos_1_1trace_html_ab99139b69af4fe6f063b4a236133b2ee"><div class="ttname"><a href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">os::trace::printf</a></div><div class="ttdeci">int printf(const char *format,...)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6f5bd5fb10f9a2e09f15820ac3f7bc08"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a> os::rtos::Thread::try_sig_wait </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">thread::sigset_t</a>&#160;</td>
          <td class="paramname"><em>mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">thread::sigset_t</a> *&#160;</td>
          <td class="paramname"><em>oflags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceos_1_1rtos_1_1flags.html#a49c1da8337c9d32697fefbdf0412cdac">flags::mode_t</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>If the mode::all bit is set, the function expects all given flags to be raised; otherwise, if the mode::any bit is set, the function expects any single flag to be raised.</p>
<p>The function does not blocks, if the expected signal flags are not raised, but returns EGAIN.</p>
<dl class="section warning"><dt>Warning</dt><dd>Cannot be invoked from Interrupt Service Routines. </dd></dl>

<p>Definition at line <a class="el" href="os-thread_8cpp_source.html#l00841">841</a> of file <a class="el" href="os-thread_8cpp_source.html">os-thread.cpp</a>.</p>

<p>References <a class="el" href="os-thread_8cpp_source.html#l00736">_try_wait()</a>, <a class="el" href="os-core_8cpp_source.html#l00068">os::rtos::scheduler::in_handler_mode()</a>, <a class="el" href="os_8h_source.html#l02531">os::rtos::Named_object::name()</a>, <a class="el" href="os_8h_source.html#l03032">os_assert_err</a>, and <a class="el" href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">os::trace::printf()</a>.</p>

<p>Referenced by <a class="el" href="os_8h_source.html#l02622">os::rtos::this_thread::try_sig_wait()</a>.</p>
<div class="fragment"><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    {</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;      <a class="code" href="os_8h.html#ae9cede0de19446e3a5eb930b6b10dd39">os_assert_err</a>(!<a class="code" href="namespaceos_1_1rtos_1_1scheduler.html#a72474ad9ad219abeb13fb3ed0b95a8b3">scheduler::in_handler_mode</a> (), EPERM);</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;      <a class="code" href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">trace::printf</a> (<span class="stringliteral">&quot;%s(0x%X, %d) @%p %s\n&quot;</span>, __func__, mask, mode, <span class="keyword">this</span>,</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;                     <a class="code" href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">name</a> ());</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;      interrupts::Critical_section cs; <span class="comment">// ----- Critical section -----</span></div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classos_1_1rtos_1_1_thread.html#a16553b693dc0aab46b9cd8812bb509dc">_try_wait</a> (mask, oflags, mode);</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    }</div><div class="ttc" id="classos_1_1rtos_1_1_thread_html_a16553b693dc0aab46b9cd8812bb509dc"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#a16553b693dc0aab46b9cd8812bb509dc">os::rtos::Thread::_try_wait</a></div><div class="ttdeci">result_t _try_wait(thread::sigset_t mask, thread::sigset_t *oflags, flags::mode_t mode)</div><div class="ttdef"><b>Definition:</b> <a href="os-thread_8cpp_source.html#l00736">os-thread.cpp:736</a></div></div>
<div class="ttc" id="os_8h_html_ae9cede0de19446e3a5eb930b6b10dd39"><div class="ttname"><a href="os_8h.html#ae9cede0de19446e3a5eb930b6b10dd39">os_assert_err</a></div><div class="ttdeci">#define os_assert_err(__e, __er)</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l03032">os.h:3032</a></div></div>
<div class="ttc" id="classos_1_1rtos_1_1_named__object_html_a1ced578ffc847e14547b02ee1473c44e"><div class="ttname"><a href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">os::rtos::Named_object::name</a></div><div class="ttdeci">const char * name(void) const </div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l02531">os.h:2531</a></div></div>
<div class="ttc" id="namespaceos_1_1rtos_1_1scheduler_html_a72474ad9ad219abeb13fb3ed0b95a8b3"><div class="ttname"><a href="namespaceos_1_1rtos_1_1scheduler.html#a72474ad9ad219abeb13fb3ed0b95a8b3">os::rtos::scheduler::in_handler_mode</a></div><div class="ttdeci">bool in_handler_mode(void)</div><div class="ttdoc">Check if in handler mode. </div><div class="ttdef"><b>Definition:</b> <a href="os-core_8cpp_source.html#l00068">os-core.cpp:68</a></div></div>
<div class="ttc" id="namespaceos_1_1trace_html_ab99139b69af4fe6f063b4a236133b2ee"><div class="ttname"><a href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">os::trace::printf</a></div><div class="ttdeci">int printf(const char *format,...)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac403644442b53259133526e8cf073771"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceos_1_1rtos.html#adb48abed9491a66df9843f79393da054">os_thread_user_storage_t</a> * os::rtos::Thread::user_storage </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get user storage. </p>
<dl class="section return"><dt>Returns</dt><dd>The address of the thread user storage.</dd></dl>
<p>The user storage is a custom structure defined in os-app-config.h, which is added to each and every thread storage. Applications can store here any data.</p>
<p>Inspired by (actually a generalisation of) µC-OS III task user registers and FreeRTOS thread local storage, which proved useful when implementing CMSIS+ over FreeRTOS. </p>

<p>Definition at line <a class="el" href="os_8h_source.html#l02704">2704</a> of file <a class="el" href="os_8h_source.html">os.h</a>.</p>
<div class="fragment"><div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;    {</div><div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;      <span class="keywordflow">return</span> &amp;<a class="code" href="classos_1_1rtos_1_1_thread.html#a6c1e7318a3f64afaeb14d0be375d8823">user_storage_</a>;</div><div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;    }</div><div class="ttc" id="classos_1_1rtos_1_1_thread_html_a6c1e7318a3f64afaeb14d0be375d8823"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#a6c1e7318a3f64afaeb14d0be375d8823">os::rtos::Thread::user_storage_</a></div><div class="ttdeci">os_thread_user_storage_t user_storage_</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00852">os.h:852</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a36e40610400fba15e445695974cd712e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void os::rtos::Thread::wakeup </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wake-up the thread. </p>
<dl class="section note"><dt>Note</dt><dd>Can be invoked from Interrupt Service Routines.</dd></dl>
<p>Internal, no POSIX equivalent.</p>
<dl class="section note"><dt>Note</dt><dd>Can be invoked from Interrupt Service Routines. </dd></dl>

<p>Definition at line <a class="el" href="os-thread_8cpp_source.html#l00314">314</a> of file <a class="el" href="os-thread_8cpp_source.html">os-thread.cpp</a>.</p>

<p>References <a class="el" href="os_8h_source.html#l02531">os::rtos::Named_object::name()</a>, <a class="el" href="os_8h_source.html#l00101">os::rtos::result::ok</a>, <a class="el" href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">os::trace::printf()</a>, and <a class="el" href="os_8h_source.html#l00847">wakeup_reason_</a>.</p>

<p>Referenced by <a class="el" href="os-thread_8cpp_source.html#l00580">exit()</a>, <a class="el" href="os-thread_8cpp_source.html#l00611">kill()</a>, and <a class="el" href="os-thread_8cpp_source.html#l00647">sig_raise()</a>.</p>
<div class="fragment"><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    {</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      <a class="code" href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">trace::printf</a> (<span class="stringliteral">&quot;%s() @%p %s\n&quot;</span>, __func__, <span class="keyword">this</span>, <a class="code" href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">name</a> ());</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      <a class="code" href="classos_1_1rtos_1_1_thread.html#af88f029af724c2c39ae1a5ee5132f237">wakeup_reason_</a> = <a class="code" href="namespaceos_1_1rtos_1_1result.html#a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b">result::ok</a>;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="preprocessor">#if defined(OS_INCLUDE_PORT_RTOS_THREAD)</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      port::Thread::wakeup (<span class="keyword">this</span>);</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      <span class="comment">// TODO</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    }</div><div class="ttc" id="classos_1_1rtos_1_1_named__object_html_a1ced578ffc847e14547b02ee1473c44e"><div class="ttname"><a href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">os::rtos::Named_object::name</a></div><div class="ttdeci">const char * name(void) const </div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l02531">os.h:2531</a></div></div>
<div class="ttc" id="namespaceos_1_1rtos_1_1result_html_a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b"><div class="ttname"><a href="namespaceos_1_1rtos_1_1result.html#a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b">os::rtos::result::ok</a></div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00101">os.h:101</a></div></div>
<div class="ttc" id="namespaceos_1_1trace_html_ab99139b69af4fe6f063b4a236133b2ee"><div class="ttname"><a href="namespaceos_1_1trace.html#ab99139b69af4fe6f063b4a236133b2ee">os::trace::printf</a></div><div class="ttdeci">int printf(const char *format,...)</div></div>
<div class="ttc" id="classos_1_1rtos_1_1_thread_html_af88f029af724c2c39ae1a5ee5132f237"><div class="ttname"><a href="classos_1_1rtos_1_1_thread.html#af88f029af724c2c39ae1a5ee5132f237">os::rtos::Thread::wakeup_reason_</a></div><div class="ttdeci">result_t wakeup_reason_</div><div class="ttdef"><b>Definition:</b> <a href="os_8h_source.html#l00847">os.h:847</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a class="anchor" id="a95935cf5eaad0c4b3509049e814f06e7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="namespaceos_1_1rtos_1_1this__thread.html#a9c68164be854d7fb8a2693726c6207ff">this_thread::exit</a> </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>exit_ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5d29917018290bb0f1de232d56e99a37"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a> <a class="el" href="namespaceos_1_1rtos_1_1this__thread.html#a4a579a77bc717cda108156f58dbe617e">this_thread::sig_wait</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">thread::sigset_t</a>&#160;</td>
          <td class="paramname"><em>mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">thread::sigset_t</a> *&#160;</td>
          <td class="paramname"><em>oflags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceos_1_1rtos_1_1flags.html#a49c1da8337c9d32697fefbdf0412cdac">flags::mode_t</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a13a10a69c2f044614a3105a593088b6b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="namespaceos_1_1rtos_1_1this__thread.html#a1c97602fb159c5e99461d6d5ea3972d8">this_thread::suspend</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a9e8be1409f2bd7e019ef9f4a915b060b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a> <a class="el" href="namespaceos_1_1rtos_1_1this__thread.html#a131f5acc460b3ab45c25d6db0cdd3894">this_thread::timed_sig_wait</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">thread::sigset_t</a>&#160;</td>
          <td class="paramname"><em>mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">thread::sigset_t</a> *&#160;</td>
          <td class="paramname"><em>oflags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceos_1_1rtos.html#aba7f568590671eed574e70d3a38de2df">systicks_t</a>&#160;</td>
          <td class="paramname"><em>ticks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceos_1_1rtos_1_1flags.html#a49c1da8337c9d32697fefbdf0412cdac">flags::mode_t</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="adfbbd87abf32fe91a087db0d1e6d8640"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a> <a class="el" href="namespaceos_1_1rtos_1_1this__thread.html#aaeba0011281613313165bbb390c405c7">this_thread::try_sig_wait</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">thread::sigset_t</a>&#160;</td>
          <td class="paramname"><em>mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">thread::sigset_t</a> *&#160;</td>
          <td class="paramname"><em>oflags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceos_1_1rtos_1_1flags.html#a49c1da8337c9d32697fefbdf0412cdac">flags::mode_t</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a78533ffaf052b92a45e131f9e22b95fe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceos_1_1rtos_1_1thread.html#af6b0d4a09e097f97dbd9766054e8f3aa">thread::func_t</a> os::rtos::Thread::func_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="os_8h_source.html#l00831">831</a> of file <a class="el" href="os_8h_source.html">os.h</a>.</p>

<p>Referenced by <a class="el" href="os-thread_8cpp_source.html#l00152">_invoke_with_exit()</a>, and <a class="el" href="os-thread_8cpp_source.html#l00206">Thread()</a>.</p>

</div>
</div>
<a class="anchor" id="a221bef067614777aaf4815d713edde10"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceos_1_1rtos_1_1thread.html#abbcff6db915a1e4cfaa769d355efd8b5">thread::func_args_t</a> os::rtos::Thread::func_args_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="os_8h_source.html#l00832">832</a> of file <a class="el" href="os_8h_source.html">os.h</a>.</p>

<p>Referenced by <a class="el" href="os-thread_8cpp_source.html#l00152">_invoke_with_exit()</a>, and <a class="el" href="os-thread_8cpp_source.html#l00206">Thread()</a>.</p>

</div>
</div>
<a class="anchor" id="a46b7138eee7bf69fd4785037c696aaa8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void* os::rtos::Thread::func_result_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="os_8h_source.html#l00833">833</a> of file <a class="el" href="os_8h_source.html">os.h</a>.</p>

<p>Referenced by <a class="el" href="os-thread_8cpp_source.html#l00580">exit()</a>, <a class="el" href="os-thread_8cpp_source.html#l00449">join()</a>, and <a class="el" href="os-thread_8cpp_source.html#l00611">kill()</a>.</p>

</div>
</div>
<a class="anchor" id="ae309b8779ce2d831369fd545dd269882"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classos_1_1rtos_1_1_thread.html">Thread</a>* os::rtos::Thread::joiner_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="os_8h_source.html#l00841">841</a> of file <a class="el" href="os_8h_source.html">os.h</a>.</p>

<p>Referenced by <a class="el" href="os-thread_8cpp_source.html#l00580">exit()</a>, <a class="el" href="os-thread_8cpp_source.html#l00449">join()</a>, <a class="el" href="os-thread_8cpp_source.html#l00611">kill()</a>, and <a class="el" href="os-thread_8cpp_source.html#l00206">Thread()</a>.</p>

</div>
</div>
<a class="anchor" id="a7c6435f5bbc1c2793664672cbf420d70"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* const os::rtos::Named_object::name_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="os_8h_source.html#l00529">529</a> of file <a class="el" href="os_8h_source.html">os.h</a>.</p>

</div>
</div>
<a class="anchor" id="acb6b86867c6dcc9e2e0cc088e365b9fe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceos_1_1rtos_1_1thread.html#a1257cd2ea834219f38831bcf66485103">thread::priority_t</a> os::rtos::Thread::prio_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="os_8h_source.html#l00845">845</a> of file <a class="el" href="os_8h_source.html">os.h</a>.</p>

<p>Referenced by <a class="el" href="os-thread_8cpp_source.html#l00357">sched_prio()</a>, and <a class="el" href="os-thread_8cpp_source.html#l00206">Thread()</a>.</p>

</div>
</div>
<a class="anchor" id="a5b767f10a973eb5640852b7e12ccd4e1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceos_1_1rtos_1_1thread.html#ac83bf77031e2c139bb553426b0805d2d">thread::state_t</a> os::rtos::Thread::sched_state_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="os_8h_source.html#l00844">844</a> of file <a class="el" href="os_8h_source.html">os.h</a>.</p>

<p>Referenced by <a class="el" href="os-thread_8cpp_source.html#l00267">_destroy()</a>, <a class="el" href="os-thread_8cpp_source.html#l00580">exit()</a>, <a class="el" href="os-thread_8cpp_source.html#l00449">join()</a>, <a class="el" href="os-thread_8cpp_source.html#l00611">kill()</a>, and <a class="el" href="os-thread_8cpp_source.html#l00206">Thread()</a>.</p>

</div>
</div>
<a class="anchor" id="ab36f37b895c94f45cac841c00e9f5722"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceos_1_1rtos_1_1thread.html#ad726d18923d05ebbded9f22296b65c95">thread::sigset_t</a> os::rtos::Thread::sig_mask_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="os_8h_source.html#l00850">850</a> of file <a class="el" href="os_8h_source.html">os.h</a>.</p>

<p>Referenced by <a class="el" href="os-thread_8cpp_source.html#l00736">_try_wait()</a>, <a class="el" href="os-thread_8cpp_source.html#l00710">sig_clear()</a>, <a class="el" href="os-thread_8cpp_source.html#l00679">sig_get()</a>, <a class="el" href="os-thread_8cpp_source.html#l00647">sig_raise()</a>, and <a class="el" href="os-thread_8cpp_source.html#l00206">Thread()</a>.</p>

</div>
</div>
<a class="anchor" id="a6bbc905123b44c33b53e8e1e25978218"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void* os::rtos::Thread::stack_addr_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="os_8h_source.html#l00830">830</a> of file <a class="el" href="os_8h_source.html">os.h</a>.</p>

<p>Referenced by <a class="el" href="os-thread_8cpp_source.html#l00206">Thread()</a>.</p>

</div>
</div>
<a class="anchor" id="a271099ccd0fa842d067aa89e2fd5a732"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t os::rtos::Thread::stack_size_bytes_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="os_8h_source.html#l00843">843</a> of file <a class="el" href="os_8h_source.html">os.h</a>.</p>

<p>Referenced by <a class="el" href="os-thread_8cpp_source.html#l00206">Thread()</a>.</p>

</div>
</div>
<a class="anchor" id="a6c1e7318a3f64afaeb14d0be375d8823"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceos_1_1rtos.html#adb48abed9491a66df9843f79393da054">os_thread_user_storage_t</a> os::rtos::Thread::user_storage_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="os_8h_source.html#l00852">852</a> of file <a class="el" href="os_8h_source.html">os.h</a>.</p>

</div>
</div>
<a class="anchor" id="af88f029af724c2c39ae1a5ee5132f237"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a> os::rtos::Thread::wakeup_reason_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="os_8h_source.html#l00847">847</a> of file <a class="el" href="os_8h_source.html">os.h</a>.</p>

<p>Referenced by <a class="el" href="os-thread_8cpp_source.html#l00314">wakeup()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/cmsis-plus/rtos/<a class="el" href="os_8h_source.html">os.h</a></li>
<li>src/cmsis-plus/rtos/<a class="el" href="os-thread_8cpp_source.html">os-thread.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceos.html">os</a></li><li class="navelem"><a class="el" href="namespaceos_1_1rtos.html">rtos</a></li><li class="navelem"><a class="el" href="classos_1_1rtos_1_1_thread.html">Thread</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
