<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>CMSIS++ Reference: os::rtos::Semaphore Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="$relpath/../../../.."><img alt="Logo" src="logo.png"/></a></td>
  <td id="projectalign">
   <div>
     <div id="projectname">CMSIS++ Reference
     &#160;<span id="projectnumber">0.1.1</span>
     </div>
     <div id="projectmotto" class="float:right;">“Perfekt ist nicht gut genug”</div>
     </div>  
   </div>
   <div id="projectbrief">CMSIS++: A proposal for the next generation CMSIS, written in C++.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classos_1_1rtos_1_1_semaphore.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="classos_1_1rtos_1_1_semaphore-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">os::rtos::Semaphore Class Reference<div class="ingroups"><a class="el" href="group__cmsis-plus-rtos.html">CMSIS++ RTOS API</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>POSIX compliant <b>semaphore</b>.  
 <a href="classos_1_1rtos_1_1_semaphore.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="os_8h_source.html">cmsis-plus/rtos/os.h</a>&gt;</code></p>

<p>Inherits <a class="el" href="classos_1_1rtos_1_1_named__object.html">os::rtos::Named_object</a>.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Constructors &amp; Destructor</div></td></tr>
<tr class="memitem:ad8b005eb3618fb0c9b5fa7eeda019a0d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_semaphore.html#ad8b005eb3618fb0c9b5fa7eeda019a0d">Semaphore</a> ()</td></tr>
<tr class="memdesc:ad8b005eb3618fb0c9b5fa7eeda019a0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a semaphore with default settings.  <a href="#ad8b005eb3618fb0c9b5fa7eeda019a0d">More...</a><br /></td></tr>
<tr class="separator:ad8b005eb3618fb0c9b5fa7eeda019a0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a016fd0cc042a53b898ba8c18a250fcbc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_semaphore.html#a016fd0cc042a53b898ba8c18a250fcbc">Semaphore</a> (const <a class="el" href="classos_1_1rtos_1_1semaphore_1_1_attributes.html">semaphore::Attributes</a> &amp;attr)</td></tr>
<tr class="memdesc:a016fd0cc042a53b898ba8c18a250fcbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a semaphore with custom settings.  <a href="#a016fd0cc042a53b898ba8c18a250fcbc">More...</a><br /></td></tr>
<tr class="separator:a016fd0cc042a53b898ba8c18a250fcbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c4f278ca1cfb213b416f31720a30f04"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_semaphore.html#a4c4f278ca1cfb213b416f31720a30f04">~Semaphore</a> ()</td></tr>
<tr class="memdesc:a4c4f278ca1cfb213b416f31720a30f04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy the semaphore.  <a href="#a4c4f278ca1cfb213b416f31720a30f04">More...</a><br /></td></tr>
<tr class="separator:a4c4f278ca1cfb213b416f31720a30f04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Operators</div></td></tr>
<tr class="memitem:ae0e0c778fd520d792ce171ed0568ed28"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_semaphore.html#ae0e0c778fd520d792ce171ed0568ed28">operator==</a> (const <a class="el" href="classos_1_1rtos_1_1_semaphore.html">Semaphore</a> &amp;rhs) const </td></tr>
<tr class="memdesc:ae0e0c778fd520d792ce171ed0568ed28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compare semaphores.  <a href="#ae0e0c778fd520d792ce171ed0568ed28">More...</a><br /></td></tr>
<tr class="separator:ae0e0c778fd520d792ce171ed0568ed28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Public Member Functions</div></td></tr>
<tr class="memitem:add305af99c6d539ca210cd88cdc0c295"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_semaphore.html#add305af99c6d539ca210cd88cdc0c295">post</a> (void)</td></tr>
<tr class="memdesc:add305af99c6d539ca210cd88cdc0c295"><td class="mdescLeft">&#160;</td><td class="mdescRight">Post (unlock) the semaphore.  <a href="#add305af99c6d539ca210cd88cdc0c295">More...</a><br /></td></tr>
<tr class="separator:add305af99c6d539ca210cd88cdc0c295"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8dc97a2f1b41efda85dd6b9631a36b0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_semaphore.html#ae8dc97a2f1b41efda85dd6b9631a36b0">wait</a> (void)</td></tr>
<tr class="memdesc:ae8dc97a2f1b41efda85dd6b9631a36b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock the semaphore, possibly waiting.  <a href="#ae8dc97a2f1b41efda85dd6b9631a36b0">More...</a><br /></td></tr>
<tr class="separator:ae8dc97a2f1b41efda85dd6b9631a36b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace789052a8b3f0b1bfdf3bf81a83ae04"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_semaphore.html#ace789052a8b3f0b1bfdf3bf81a83ae04">try_wait</a> (void)</td></tr>
<tr class="memdesc:ace789052a8b3f0b1bfdf3bf81a83ae04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to lock the semaphore.  <a href="#ace789052a8b3f0b1bfdf3bf81a83ae04">More...</a><br /></td></tr>
<tr class="separator:ace789052a8b3f0b1bfdf3bf81a83ae04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3300809c776bb5e2432c24e5a486087d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_semaphore.html#a3300809c776bb5e2432c24e5a486087d">timed_wait</a> (<a class="el" href="namespaceos_1_1rtos.html#a9f86e4a7d7a566df11ec40061fdb52dd">duration_t</a> timeout)</td></tr>
<tr class="memdesc:a3300809c776bb5e2432c24e5a486087d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timed wait to lock the semaphore.  <a href="#a3300809c776bb5e2432c24e5a486087d">More...</a><br /></td></tr>
<tr class="separator:a3300809c776bb5e2432c24e5a486087d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afaad1f1047d7d46f5baf5329d35ca78d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceos_1_1rtos_1_1semaphore.html#af1d385ca401f753ae725118254291409">semaphore::count_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_semaphore.html#afaad1f1047d7d46f5baf5329d35ca78d">value</a> (void) const </td></tr>
<tr class="memdesc:afaad1f1047d7d46f5baf5329d35ca78d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the semaphore value.  <a href="#afaad1f1047d7d46f5baf5329d35ca78d">More...</a><br /></td></tr>
<tr class="separator:afaad1f1047d7d46f5baf5329d35ca78d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad855a37723270b019c47cc90d23cddff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_semaphore.html#ad855a37723270b019c47cc90d23cddff">reset</a> (void)</td></tr>
<tr class="memdesc:ad855a37723270b019c47cc90d23cddff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the semaphore.  <a href="#ad855a37723270b019c47cc90d23cddff">More...</a><br /></td></tr>
<tr class="separator:ad855a37723270b019c47cc90d23cddff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ed399e5c96ee44445fa8b7745665b11"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceos_1_1rtos_1_1semaphore.html#af1d385ca401f753ae725118254291409">semaphore::count_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_semaphore.html#a4ed399e5c96ee44445fa8b7745665b11">initial_value</a> (void) const </td></tr>
<tr class="memdesc:a4ed399e5c96ee44445fa8b7745665b11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the semaphore initial value.  <a href="#a4ed399e5c96ee44445fa8b7745665b11">More...</a><br /></td></tr>
<tr class="separator:a4ed399e5c96ee44445fa8b7745665b11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0892c8cd78d99100a3cb17e797cd17c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceos_1_1rtos_1_1semaphore.html#af1d385ca401f753ae725118254291409">semaphore::count_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_semaphore.html#ab0892c8cd78d99100a3cb17e797cd17c">max_value</a> (void) const </td></tr>
<tr class="memdesc:ab0892c8cd78d99100a3cb17e797cd17c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the semaphore max value.  <a href="#ab0892c8cd78d99100a3cb17e797cd17c">More...</a><br /></td></tr>
<tr class="separator:ab0892c8cd78d99100a3cb17e797cd17c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Public Member Functions</div></td></tr>
<tr class="memitem:a1ced578ffc847e14547b02ee1473c44e"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_named__object.html#a1ced578ffc847e14547b02ee1473c44e">name</a> (void) const </td></tr>
<tr class="memdesc:a1ced578ffc847e14547b02ee1473c44e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get name.  <a href="#a1ced578ffc847e14547b02ee1473c44e">More...</a><br /></td></tr>
<tr class="separator:a1ced578ffc847e14547b02ee1473c44e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Private Member Variables</div></td></tr>
<tr class="memitem:a1b69a387f9889eca15969d326cbaeb45"><td class="memItemLeft" align="right" valign="top">port::Tasks_list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_semaphore.html#a1b69a387f9889eca15969d326cbaeb45">list_</a></td></tr>
<tr class="separator:a1b69a387f9889eca15969d326cbaeb45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1038bfe269c0f83b11b9c8c359c24640"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="namespaceos_1_1rtos_1_1semaphore.html#af1d385ca401f753ae725118254291409">semaphore::count_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_semaphore.html#a1038bfe269c0f83b11b9c8c359c24640">initial_count_</a></td></tr>
<tr class="separator:a1038bfe269c0f83b11b9c8c359c24640"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7a6486c35b35956d9a0fb729719121a"><td class="memItemLeft" align="right" valign="top">volatile <a class="el" href="namespaceos_1_1rtos_1_1semaphore.html#af1d385ca401f753ae725118254291409">semaphore::count_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_semaphore.html#ad7a6486c35b35956d9a0fb729719121a">count_</a></td></tr>
<tr class="separator:ad7a6486c35b35956d9a0fb729719121a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a189e07ad643c937c8f705bce4c48bac1"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="namespaceos_1_1rtos_1_1semaphore.html#af1d385ca401f753ae725118254291409">semaphore::count_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_semaphore.html#a189e07ad643c937c8f705bce4c48bac1">max_count_</a></td></tr>
<tr class="separator:a189e07ad643c937c8f705bce4c48bac1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Private Member Variables</div></td></tr>
<tr class="memitem:ad7667db8bf3171d900237500cb0e1e67"><td class="memItemLeft" align="right" valign="top">const char *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1_named__object.html#ad7667db8bf3171d900237500cb0e1e67">name_</a></td></tr>
<tr class="memdesc:ad7667db8bf3171d900237500cb0e1e67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to name.  <a href="#ad7667db8bf3171d900237500cb0e1e67">More...</a><br /></td></tr>
<tr class="separator:ad7667db8bf3171d900237500cb0e1e67"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>POSIX compliant <b>semaphore</b>. </p>
<p>Semaphores allow threads and interrupts to synchronise their actions.</p>
<p>A useful way to think of a semaphore as used in the real-world systems is as a record of how many units of a particular resource are available, coupled with operations to safely (i.e., without race conditions) adjust that record as units are required or become free, and, if necessary, wait until a unit of the resource becomes available. Semaphores are a useful tool in the prevention of race conditions; however, their use is by no means a guarantee that a program is free from these problems. Semaphores which allow an arbitrary resource count are called counting semaphores, while semaphores which are restricted to the values 0 and 1 (or locked/unlocked, unavailable/available) are called binary semaphores.</p>
<p>Semaphores should generally be used to synchronise threads with events occurring on interrupts.</p>
<p>For inter-thread synchronisation, to avoid cases of priority inversion, more suitable are mutexes.</p>
<dl class="section user"><dt>POSIX compatibility</dt><dd>Inspired by <code>sem_t</code> from <a href="http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/semaphore.h.html"><code>&lt;semaphore.h&gt;</code></a> (<a href="http://pubs.opengroup.org/onlinepubs/9699919799/nframe.html">IEEE Std 1003.1, 2013 Edition</a>). </dd></dl>

<p>Definition at line <a class="el" href="os_8h_source.html#l02996">2996</a> of file <a class="el" href="os_8h_source.html">os.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ad8b005eb3618fb0c9b5fa7eeda019a0d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">os::rtos::Semaphore::Semaphore </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a semaphore with default settings. </p>
<dl class="section user"><dt>Parameters</dt><dd>None</dd></dl>
<p>Create and initialise a semaphore with default attributes (count=0 and no limit for count).</p>
<p>Compatible with POSIX <code>sem_init()</code>. <a href="http://pubs.opengroup.org/onlinepubs/9699919799/functions/sem_init.html#">http://pubs.opengroup.org/onlinepubs/9699919799/functions/sem_init.html#</a></p>
<dl class="section user"><dt>POSIX compatibility</dt><dd>Inspired by <a href="http://pubs.opengroup.org/onlinepubs/9699919799/functions/sem_init.html"><code>sem_init()</code></a> from <a href="http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/semaphore.h.html"><code>&lt;semaphore.h&gt;</code></a> (<a href="http://pubs.opengroup.org/onlinepubs/9699919799/nframe.html">IEEE Std 1003.1, 2013 Edition</a>).</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Cannot be invoked from Interrupt Service Routines. </dd></dl>

<p>Definition at line <a class="el" href="os-semaphore_8cpp_source.html#l00140">140</a> of file <a class="el" href="os-semaphore_8cpp_source.html">os-semaphore.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a016fd0cc042a53b898ba8c18a250fcbc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">os::rtos::Semaphore::Semaphore </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classos_1_1rtos_1_1semaphore_1_1_attributes.html">semaphore::Attributes</a> &amp;&#160;</td>
          <td class="paramname"><em>attr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a semaphore with custom settings. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">attr</td><td>Reference to attributes.</td></tr>
  </table>
  </dd>
</dl>
<p>Create and initialise a semaphore with custom attributes (initial and max count from user defined attributes).</p>
<dl class="section user"><dt>POSIX compatibility</dt><dd>Inspired by <a href="http://pubs.opengroup.org/onlinepubs/9699919799/functions/sem_init.html"><code>sem_init()</code></a> from <a href="http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/semaphore.h.html"><code>&lt;semaphore.h&gt;</code></a> (<a href="http://pubs.opengroup.org/onlinepubs/9699919799/nframe.html">IEEE Std 1003.1, 2013 Edition</a>).</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Cannot be invoked from Interrupt Service Routines. </dd></dl>

<p>Definition at line <a class="el" href="os-semaphore_8cpp_source.html#l00159">159</a> of file <a class="el" href="os-semaphore_8cpp_source.html">os-semaphore.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a4c4f278ca1cfb213b416f31720a30f04"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">os::rtos::Semaphore::~Semaphore </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy the semaphore. </p>
<p>It is safe to destroy an initialised semaphore upon which no threads are currently blocked. The effect of destroying a semaphore upon which other threads are currently blocked is undefined.</p>
<dl class="section user"><dt>POSIX compatibility</dt><dd>Inspired by <a href="http://pubs.opengroup.org/onlinepubs/9699919799/functions/sem_destroy.html"><code>sem_destroy()</code></a> from <a href="http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/semaphore.h.html"><code>&lt;semaphore.h&gt;</code></a> (<a href="http://pubs.opengroup.org/onlinepubs/9699919799/nframe.html">IEEE Std 1003.1, 2013 Edition</a>).</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Cannot be invoked from Interrupt Service Routines. </dd></dl>

<p>Definition at line <a class="el" href="os-semaphore_8cpp_source.html#l00203">203</a> of file <a class="el" href="os-semaphore_8cpp_source.html">os-semaphore.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a4ed399e5c96ee44445fa8b7745665b11"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceos_1_1rtos_1_1semaphore.html#af1d385ca401f753ae725118254291409">semaphore::count_t</a> os::rtos::Semaphore::initial_value </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the semaphore initial value. </p>
<dl class="section user"><dt>Parameters</dt><dd>None </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The numeric value set from attributes.</dd></dl>
<dl class="section user"><dt>POSIX compatibility</dt><dd>Extension to standard, no POSIX similar functionality identified. </dd></dl>

<p>Definition at line <a class="el" href="os_8h_source.html#l04749">4749</a> of file <a class="el" href="os_8h_source.html">os.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab0892c8cd78d99100a3cb17e797cd17c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceos_1_1rtos_1_1semaphore.html#af1d385ca401f753ae725118254291409">semaphore::count_t</a> os::rtos::Semaphore::max_value </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the semaphore max value. </p>
<dl class="section user"><dt>Parameters</dt><dd>None </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The numeric value set from attributes.</dd></dl>
<dl class="section user"><dt>POSIX compatibility</dt><dd>Extension to standard, no POSIX similar functionality identified. </dd></dl>

<p>Definition at line <a class="el" href="os_8h_source.html#l04760">4760</a> of file <a class="el" href="os_8h_source.html">os.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1ced578ffc847e14547b02ee1473c44e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char * os::rtos::Named_object::name </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get name. </p>
<dl class="section user"><dt>Parameters</dt><dd>None. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>A null terminated string.</dd></dl>
<p>All objects return a non-null string; anonymous objects return <code>"-"</code>. </p>

<p>Definition at line <a class="el" href="os_8h_source.html#l04398">4398</a> of file <a class="el" href="os_8h_source.html">os.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae0e0c778fd520d792ce171ed0568ed28"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool os::rtos::Semaphore::operator== </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classos_1_1rtos_1_1_semaphore.html">Semaphore</a> &amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compare semaphores. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>The given semaphore is the same as this semaphore. </td></tr>
    <tr><td class="paramname">false</td><td>The semaphores are different.</td></tr>
  </table>
  </dd>
</dl>
<p>Identical semaphores should have the same memory address. </p>

<p>Definition at line <a class="el" href="os_8h_source.html#l04713">4713</a> of file <a class="el" href="os_8h_source.html">os.h</a>.</p>

</div>
</div>
<a class="anchor" id="add305af99c6d539ca210cd88cdc0c295"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a> os::rtos::Semaphore::post </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Post (unlock) the semaphore. </p>
<dl class="section user"><dt>Parameters</dt><dd>None </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="namespaceos_1_1rtos_1_1result.html#a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b" title="Function completed; no errors or events occurred. ">result::ok</a></td><td>The semaphore was posted. </td></tr>
    <tr><td class="paramname">EOVERFLOW</td><td>The max count was exceeded. </td></tr>
    <tr><td class="paramname">ENOTRECOVERABLE</td><td>The semaphore could not be posted (extension to POSIX).</td></tr>
  </table>
  </dd>
</dl>
<p>Perform a post operation on the semaphore, informing the waiting consumers that one more resource is available. The semaphore count is incremented, up to max_count.</p>
<p>If the semaphore count resulting from this operation is positive, then no threads were blocked waiting for the semaphore to become unlocked.</p>
<p>If the count of the semaphore resulting from this operation is zero, then one of the threads blocked waiting for the semaphore shall be allowed to return successfully from its call to <code><a class="el" href="classos_1_1rtos_1_1_semaphore.html#ae8dc97a2f1b41efda85dd6b9631a36b0" title="Lock the semaphore, possibly waiting. ">wait()</a></code>.</p>
<p>If the Process Scheduling option is supported, the thread to be unblocked shall be chosen in a manner appropriate to the scheduling policies and parameters in effect for the blocked threads. In the case of the schedulers SCHED_FIFO and SCHED_RR, the highest priority waiting thread shall be unblocked, and if there is more than one highest priority thread blocked waiting for the semaphore, then the highest priority thread that has been waiting the longest shall be unblocked. If the Process Scheduling option is not defined, the choice of a thread to unblock is unspecified. If the scheduling policy is SCHED_SPORADIC, the semantics are as per SCHED_FIFO.</p>
<dl class="section user"><dt>POSIX compatibility</dt><dd>Inspired by <a href="http://pubs.opengroup.org/onlinepubs/9699919799/functions/sem_post.html"><code>sem_post()</code></a> from <a href="http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/semaphore.h.html"><code>&lt;semaphore.h&gt;</code></a> (<a href="http://pubs.opengroup.org/onlinepubs/9699919799/nframe.html">IEEE Std 1003.1, 2013 Edition</a>).</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Can be invoked from Interrupt Service Routines.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Applications using these functions may be subject to priority inversion. </dd></dl>

<p>Definition at line <a class="el" href="os-semaphore_8cpp_source.html#l00256">256</a> of file <a class="el" href="os-semaphore_8cpp_source.html">os-semaphore.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad855a37723270b019c47cc90d23cddff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a> os::rtos::Semaphore::reset </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset the semaphore. </p>
<dl class="section user"><dt>Parameters</dt><dd>None </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="namespaceos_1_1rtos_1_1result.html#a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b" title="Function completed; no errors or events occurred. ">result::ok</a></td><td>The semaphore was reset. </td></tr>
    <tr><td class="paramname">EPERM</td><td>Cannot be invoked from an Interrupt Service Routines.</td></tr>
  </table>
  </dd>
</dl>
<p>Reset the counter to the initial value.</p>
<dl class="section user"><dt>POSIX compatibility</dt><dd>Extension to standard, no POSIX similar functionality identified.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Cannot be invoked from Interrupt Service Routines. </dd></dl>

<p>Definition at line <a class="el" href="os-semaphore_8cpp_source.html#l00474">474</a> of file <a class="el" href="os-semaphore_8cpp_source.html">os-semaphore.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a3300809c776bb5e2432c24e5a486087d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a> os::rtos::Semaphore::timed_wait </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceos_1_1rtos.html#a9f86e4a7d7a566df11ec40061fdb52dd">duration_t</a>&#160;</td>
          <td class="paramname"><em>timeout</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Timed wait to lock the semaphore. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout</td><td>Timeout to wait. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="namespaceos_1_1rtos_1_1result.html#a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b" title="Function completed; no errors or events occurred. ">result::ok</a></td><td>The calling process successfully performed the semaphore lock operation. </td></tr>
    <tr><td class="paramname">EPERM</td><td>Cannot be invoked from an Interrupt Service Routines. </td></tr>
    <tr><td class="paramname">EINVAL</td><td>Invalid timeout (POSIX limits the timeout to 1000 million ns) </td></tr>
    <tr><td class="paramname">ETIMEDOUT</td><td>The semaphore could not be locked before the specified timeout expired. </td></tr>
    <tr><td class="paramname">ENOTRECOVERABLE</td><td><a class="el" href="classos_1_1rtos_1_1_semaphore.html" title="POSIX compliant semaphore. ">Semaphore</a> wait failed (extension to POSIX). </td></tr>
    <tr><td class="paramname">EDEADLK</td><td>A deadlock condition was detected. </td></tr>
    <tr><td class="paramname">EINTR</td><td>The operation was interrupted.</td></tr>
  </table>
  </dd>
</dl>
<p>Try to perform a lock operation; if the semaphore cannot be locked without waiting for another process or thread to unlock the semaphore by performing a <a class="el" href="classos_1_1rtos_1_1_semaphore.html#add305af99c6d539ca210cd88cdc0c295" title="Post (unlock) the semaphore. ">Semaphore::post()</a> function, this wait shall be terminated when the specified timeout expires.</p>
<p>The timeout shall expire after the number of time units (that is when the value of that clock equals or exceeds (now()+duration). The resolution of the timeout shall be the resolution of the clock on which it is based.</p>
<p>Under no circumstance shall the function fail with a timeout if the semaphore can be locked immediately. The validity of the timeout need not be checked if the semaphore can be locked immediately.</p>
<dl class="section user"><dt>POSIX compatibility</dt><dd>Inspired by <a href="http://pubs.opengroup.org/onlinepubs/9699919799/functions/sem_timedwait.html"><code>sem_timedwait()</code></a> from <a href="http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/semaphore.h.html"><code>&lt;semaphore.h&gt;</code></a> (<a href="http://pubs.opengroup.org/onlinepubs/9699919799/nframe.html">IEEE Std 1003.1, 2013 Edition</a>). <br />
Differences from the standard:<ul>
<li>the timeout is not expressed as an absolute time point, but as a relative number of timer ticks (by default, the SysTick clock for CMSIS).</li>
</ul>
</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Cannot be invoked from Interrupt Service Routines.</dd>
<dd>
Applications using these functions may be subject to priority inversion. </dd></dl>

<p>Definition at line <a class="el" href="os-semaphore_8cpp_source.html#l00427">427</a> of file <a class="el" href="os-semaphore_8cpp_source.html">os-semaphore.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ace789052a8b3f0b1bfdf3bf81a83ae04"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a> os::rtos::Semaphore::try_wait </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Try to lock the semaphore. </p>
<dl class="section user"><dt>Parameters</dt><dd>None </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="namespaceos_1_1rtos_1_1result.html#a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b" title="Function completed; no errors or events occurred. ">result::ok</a></td><td>The calling process successfully performed the semaphore lock operation. </td></tr>
    <tr><td class="paramname">EPERM</td><td>Cannot be invoked from an Interrupt Service Routines. </td></tr>
    <tr><td class="paramname">EAGAIN</td><td>The semaphore was already locked. </td></tr>
    <tr><td class="paramname">ENOTRECOVERABLE</td><td><a class="el" href="classos_1_1rtos_1_1_semaphore.html" title="POSIX compliant semaphore. ">Semaphore</a> wait failed (extension to POSIX). </td></tr>
    <tr><td class="paramname">EDEADLK</td><td>A deadlock condition was detected. </td></tr>
    <tr><td class="paramname">EINTR</td><td>The operation was interrupted.</td></tr>
  </table>
  </dd>
</dl>
<p>Tries to perform a lock operation only if the semaphore is currently not locked; that is, if the semaphore value is currently positive it decrements it and returns success. Otherwise, it shall not lock the semaphore.</p>
<p>Upon successful return, the state of the semaphore shall be locked and shall remain locked until the <code><a class="el" href="classos_1_1rtos_1_1_semaphore.html#add305af99c6d539ca210cd88cdc0c295" title="Post (unlock) the semaphore. ">post()</a></code> function is executed and returns successfully.</p>
<dl class="section user"><dt>POSIX compatibility</dt><dd>Inspired by <a href="http://pubs.opengroup.org/onlinepubs/9699919799/functions/sem_trywait.html"><code>sem_trywait()</code></a> from <a href="http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/semaphore.h.html"><code>&lt;semaphore.h&gt;</code></a> (<a href="http://pubs.opengroup.org/onlinepubs/9699919799/nframe.html">IEEE Std 1003.1, 2013 Edition</a>).</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Can be invoked from Interrupt Service Routines.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Applications using these functions may be subject to priority inversion. </dd></dl>

<p>Definition at line <a class="el" href="os-semaphore_8cpp_source.html#l00369">369</a> of file <a class="el" href="os-semaphore_8cpp_source.html">os-semaphore.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="afaad1f1047d7d46f5baf5329d35ca78d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceos_1_1rtos_1_1semaphore.html#af1d385ca401f753ae725118254291409">semaphore::count_t</a> os::rtos::Semaphore::value </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the semaphore value. </p>
<dl class="section user"><dt>Parameters</dt><dd>None </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The semaphore value.</dd></dl>
<p>The <code><a class="el" href="classos_1_1rtos_1_1_semaphore.html#afaad1f1047d7d46f5baf5329d35ca78d" title="Get the semaphore value. ">value()</a></code> function shall return the value of the semaphore without affecting the state of the semaphore. The value represents an actual semaphore value that occurred at some unspecified time during the call, but it need not be the actual value of the semaphore when it is returned to the calling process. This value reflects the number of available resources.</p>
<p>If the semaphore is locked, then the returned value shall either be set to zero or to a negative number whose absolute value represents the number of processes waiting for the semaphore at some unspecified time during the call.</p>
<dl class="section user"><dt>POSIX compatibility</dt><dd>Inspired by <a href="http://pubs.opengroup.org/onlinepubs/9699919799/functions/sem_getvalue.html"><code>sem_getvalue()</code></a> from <a href="http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/semaphore.h.html"><code>&lt;semaphore.h&gt;</code></a> (<a href="http://pubs.opengroup.org/onlinepubs/9699919799/nframe.html">IEEE Std 1003.1, 2013 Edition</a>). </dd></dl>

<p>Definition at line <a class="el" href="os_8h_source.html#l04738">4738</a> of file <a class="el" href="os_8h_source.html">os.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae8dc97a2f1b41efda85dd6b9631a36b0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a> os::rtos::Semaphore::wait </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lock the semaphore, possibly waiting. </p>
<dl class="section user"><dt>Parameters</dt><dd>None </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="namespaceos_1_1rtos_1_1result.html#a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b" title="Function completed; no errors or events occurred. ">result::ok</a></td><td>The calling process successfully performed the semaphore lock operation. </td></tr>
    <tr><td class="paramname">EPERM</td><td>Cannot be invoked from an Interrupt Service Routines. </td></tr>
    <tr><td class="paramname">ENOTRECOVERABLE</td><td><a class="el" href="classos_1_1rtos_1_1_semaphore.html" title="POSIX compliant semaphore. ">Semaphore</a> wait failed (extension to POSIX). </td></tr>
    <tr><td class="paramname">EDEADLK</td><td>A deadlock condition was detected. </td></tr>
    <tr><td class="paramname">EINTR</td><td>The operation was interrupted.</td></tr>
  </table>
  </dd>
</dl>
<p>Perform a lock operation on the semaphore.</p>
<p>If the current value is positive, it is decremented, and the call returns immediately</p>
<p>If the semaphore value is currently zero, then the calling thread shall not return from the call to <a class="el" href="classos_1_1rtos_1_1_semaphore.html#ae8dc97a2f1b41efda85dd6b9631a36b0" title="Lock the semaphore, possibly waiting. ">wait()</a> until it either locks the semaphore or the call is interrupted by a signal.</p>
<p>Upon successful return, the state of the semaphore shall be locked and shall remain locked until <code>the <a class="el" href="classos_1_1rtos_1_1_semaphore.html#add305af99c6d539ca210cd88cdc0c295" title="Post (unlock) the semaphore. ">post()</a></code> function is executed and returns successfully.</p>
<p>The function is interruptible by the delivery of an external event (signal, thread cancel, etc).</p>
<dl class="section user"><dt>POSIX compatibility</dt><dd>Inspired by <a href="http://pubs.opengroup.org/onlinepubs/9699919799/functions/sem_wait.html"><code>sem_wait()</code></a> from <a href="http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/semaphore.h.html"><code>&lt;semaphore.h&gt;</code></a> (<a href="http://pubs.opengroup.org/onlinepubs/9699919799/nframe.html">IEEE Std 1003.1, 2013 Edition</a>).</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Cannot be invoked from Interrupt Service Routines.</dd>
<dd>
Applications using these functions may be subject to priority inversion. </dd></dl>

<p>Definition at line <a class="el" href="os-semaphore_8cpp_source.html#l00316">316</a> of file <a class="el" href="os-semaphore_8cpp_source.html">os-semaphore.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="ad7a6486c35b35956d9a0fb729719121a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile <a class="el" href="namespaceos_1_1rtos_1_1semaphore.html#af1d385ca401f753ae725118254291409">semaphore::count_t</a> os::rtos::Semaphore::count_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="os_8h_source.html#l03174">3174</a> of file <a class="el" href="os_8h_source.html">os.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1038bfe269c0f83b11b9c8c359c24640"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespaceos_1_1rtos_1_1semaphore.html#af1d385ca401f753ae725118254291409">semaphore::count_t</a> os::rtos::Semaphore::initial_count_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="os_8h_source.html#l03171">3171</a> of file <a class="el" href="os_8h_source.html">os.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1b69a387f9889eca15969d326cbaeb45"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">port::Tasks_list os::rtos::Semaphore::list_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="os_8h_source.html#l03163">3163</a> of file <a class="el" href="os_8h_source.html">os.h</a>.</p>

</div>
</div>
<a class="anchor" id="a189e07ad643c937c8f705bce4c48bac1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespaceos_1_1rtos_1_1semaphore.html#af1d385ca401f753ae725118254291409">semaphore::count_t</a> os::rtos::Semaphore::max_count_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="os_8h_source.html#l03177">3177</a> of file <a class="el" href="os_8h_source.html">os.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad7667db8bf3171d900237500cb0e1e67"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char *const os::rtos::Named_object::name_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to name. </p>
<p>To save space, the null terminated string passed to the constructor is not copied locally. Instead, the pointer to the string is copied, so the caller must ensure that the pointer life cycle is at least as long as the object life cycle. A constant string (stored in flash) is preferred. </p>

<p>Definition at line <a class="el" href="os_8h_source.html#l01095">1095</a> of file <a class="el" href="os_8h_source.html">os.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/cmsis-plus/rtos/<a class="el" href="os_8h_source.html">os.h</a></li>
<li>src/cmsis-plus/rtos/<a class="el" href="os-semaphore_8cpp_source.html">os-semaphore.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceos.html">os</a></li><li class="navelem"><a class="el" href="namespaceos_1_1rtos.html">rtos</a></li><li class="navelem"><a class="el" href="classos_1_1rtos_1_1_semaphore.html">Semaphore</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
